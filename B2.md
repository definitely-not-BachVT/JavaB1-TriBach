# 1\. KhÃ¡i niá»‡m Object vÃ  Class

## Class (Lá»›p)

**Class** cÃ³ thá»ƒ hiá»ƒu lÃ  má»™t báº£n thiáº¿t káº¿ "blueprint" hoáº·c má»™t khuÃ´n máº«u "template" Ä‘á»ƒ táº¡o ra cÃ¡c Ä‘á»‘i tÆ°á»£ng.

> **VÃ­ dá»¥ so sÃ¡nh:**
>
>   * **Class** lÃ  báº£n thiáº¿t káº¿ chi tiáº¿t cá»§a má»™t "Chiáº¿c xe hÆ¡i".
>   * Báº£n thiáº¿t káº¿ nÃ y Ä‘á»‹nh nghÄ©a cÃ¡c **Ä‘áº·c Ä‘iá»ƒm** (thuá»™c tÃ­nh) chung nhÆ° `mauSac`, `soBanh` vÃ  cÃ¡c **hÃ nh vi** (phÆ°Æ¡ng thá»©c) chung nhÆ° `chay()`, `phanh()`.

## Object (Äá»‘i tÆ°á»£ng)

**Object** lÃ  má»™t thá»±c thá»ƒ (instance) cá»¥ thá»ƒ Ä‘Æ°á»£c táº¡o ra tá»« má»™t **Class**.

> **VÃ­ dá»¥ so sÃ¡nh (tiáº¿p theo):**
>
>   * **Object** lÃ  má»™t chiáº¿c xe hÆ¡i cá»¥ thá»ƒ Ä‘Æ°á»£c "sáº£n xuáº¥t" tá»« báº£n thiáº¿t káº¿.
>   * **VÃ­ dá»¥**:  **Object** `xeToyota` (mÃ u Ä‘á») hoáº·c má»™t Ä‘á»‘i tÆ°á»£ng `xeFord` (mÃ u xanh).

CÃ³ thá»ƒ liÃªn tÆ°á»Ÿng: `Class` tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i má»™t kiá»ƒu dá»¯ liá»‡u (nhÆ° `int`), trong khi `Object` lÃ  má»™t biáº¿n cá»¥ thá»ƒ (nhÆ° `a` trong khai bÃ¡o `int a;`).

-----

## Äáº·c Ä‘iá»ƒm cá»§a Object

Má»™t Ä‘á»‘i tÆ°á»£ng bao gá»“m hai thÃ nh pháº§n chÃ­nh:

### 1\. Tráº¡ng thÃ¡i (State)

ÄÃ¢y lÃ  cÃ¡c dá»¯ liá»‡u, thÃ´ng tin hoáº·c thuá»™c tÃ­nh mÃ´ táº£ Ä‘á»‘i tÆ°á»£ng. Trong Java, chÃºng Ä‘Æ°á»£c biá»ƒu diá»…n báº±ng cÃ¡c **trÆ°á»ng (fields)** hay cÃ²n gá»i lÃ  **biáº¿n (variables)**.

  * **VÃ­ dá»¥ (vá»›i object `XeHoi`):**
      * `String mauSac = "Äá»"`
      * `String tenHang = "Toyota"`
      * `int tocDoHienTai = 0`

### 2\. HÃ nh vi (Behavior)

ÄÃ¢y lÃ  cÃ¡c hÃ nh Ä‘á»™ng mÃ  Ä‘á»‘i tÆ°á»£ng cÃ³ thá»ƒ thá»±c hiá»‡n, hoáº·c cÃ¡c phÃ©p toÃ¡n xá»­ lÃ½ dá»¯ liá»‡u cá»§a chÃ­nh nÃ³. Trong Java, chÃºng Ä‘Æ°á»£c biá»ƒu diá»…n báº±ng cÃ¡c **phÆ°Æ¡ng thá»©c (methods)**.

  * **VÃ­ dá»¥ (vá»›i object `XeHoi`):**
      * `void tangToc(int soKm)`
      * `void phanh()`
      * `void doiMauSon(String mauMoi)`

-----

## Code minh há»a: Class vÃ  Object

```java
// BÆ°á»›c 1: Äá»‹nh nghÄ©a Class (Báº£n thiáº¿t káº¿)
class XeHoi {

    // 1. Tráº¡ng thÃ¡i (Fields)
    String mauSac;
    int tocDo;

    // 2. HÃ nh vi (Methods)
    void tangToc() {
        tocDo = tocDo + 10;
        System.out.println("Tá»‘c Ä‘á»™ hiá»‡n táº¡i: " + tocDo + " km/h");
    }

    void phanh() {
        tocDo = 0;
        System.out.println("Xe Ä‘Ã£ dá»«ng.");
    }
}

// BÆ°á»›c 2: Táº¡o cÃ¡c Object (Äá»‘i tÆ°á»£ng) tá»« Class
public class Main {
    public static void main(String[] args) {

        // Táº¡o object thá»© nháº¥t tÃªn lÃ  'xeCuaToi'
        // 'new XeHoi()' chÃ­nh lÃ  quÃ¡ trÃ¬nh "xÃ¢y" má»™t chiáº¿c xe tá»« báº£n thiáº¿t káº¿
        XeHoi xeCuaToi = new XeHoi();
        
        // GÃ¡n tráº¡ng thÃ¡i cho object 'xeCuaToi'
        xeCuaToi.mauSac = "Äá»";
        xeCuaToi.tocDo = 0;

        // Gá»i hÃ nh vi cá»§a object 'xeCuaToi'
        xeCuaToi.tangToc(); // Output: Tá»‘c Ä‘á»™ hiá»‡n táº¡i: 10 km/h
        xeCuaToi.tangToc(); // Output: Tá»‘c Ä‘á»™ hiá»‡n táº¡i: 20 km/h

        System.out.println("--------------------");

        // Táº¡o object thá»© hai tÃªn lÃ  'xeCuaBan'
        XeHoi xeCuaBan = new XeHoi();
        
        // GÃ¡n tráº¡ng thÃ¡i cho object 'xeCuaBan'
        xeCuaBan.mauSac = "Xanh";
        xeCuaBan.tocDo = 5; // Tráº¡ng thÃ¡i nÃ y Ä‘á»™c láº­p vá»›i 'xeCuaToi'
        
        xeCuaBan.tangToc(); // Output: Tá»‘c Ä‘á»™ hiá»‡n táº¡i: 15 km/h
    }
}
```

-----

# 2\. CÆ¡ cháº¿ lÆ°u trá»¯ Object

Trong Java, cÃ¡c Ä‘á»‘i tÆ°á»£ng (objects) Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn **Heap (Bá»™ nhá»› Heap)**.

Thá»© Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn **Stack (Bá»™ nhá»› NgÄƒn xáº¿p)** khÃ´ng pháº£i lÃ  báº£n thÃ¢n Ä‘á»‘i tÆ°á»£ng, mÃ  lÃ  **biáº¿n tham chiáº¿u (reference)** trá» Ä‘áº¿n vá»‹ trÃ­ cá»§a Ä‘á»‘i tÆ°á»£ng Ä‘Ã³ trÃªn Heap.

## Bá»™ nhá»› Heap (Heap Memory) 

ÄÃ¢y lÃ  khu vá»±c bá»™ nhá»› chÃ­nh nÆ¡i **táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng** (má»i thá»© Ä‘Æ°á»£c táº¡o báº±ng tá»« khÃ³a `new`) vÃ  máº£ng (arrays) Ä‘Æ°á»£c lÆ°u trá»¯.

  * **Quáº£n lÃ½:** ÄÆ°á»£c quáº£n lÃ½ tá»± Ä‘á»™ng bá»Ÿi MÃ¡y áº£o Java (JVM). Khi má»™t Ä‘á»‘i tÆ°á»£ng khÃ´ng cÃ²n Ä‘Æ°á»£c tham chiáº¿u, **Garbage Collector (GC)** sáº½ tá»± Ä‘á»™ng thu há»“i vÃ  giáº£i phÃ³ng vÃ¹ng nhá»› Ä‘Ã³.
  * **Chia sáº»:** Bá»™ nhá»› Heap Ä‘Æ°á»£c chia sáº» chung cho táº¥t cáº£ cÃ¡c luá»“ng (threads) trong á»©ng dá»¥ng.
  * **KÃ­ch thÆ°á»›c:** ThÆ°á»ng cÃ³ kÃ­ch thÆ°á»›c lá»›n hÆ¡n Stack ráº¥t nhiá»u.

## Bá»™ nhá»› Stack (Stack Memory) 

ÄÃ¢y lÃ  khu vá»±c bá»™ nhá»› Ä‘Æ°á»£c dÃ¹ng cho viá»‡c **thá»±c thi phÆ°Æ¡ng thá»©c (method execution)** vÃ  lÆ°u trá»¯ cÃ¡c **biáº¿n cá»¥c bá»™ (local variables)**.

  * **Quáº£n lÃ½:** Stack hoáº¡t Ä‘á»™ng theo cÆ¡ cháº¿ **LIFO (Last-In, First-Out)**.
  * **Hoáº¡t Ä‘á»™ng:**
    1.  Khi má»™t phÆ°Æ¡ng thá»©c Ä‘Æ°á»£c gá»i, má»™t "khung" (stack frame) má»›i Ä‘Æ°á»£c Ä‘áº©y (push) vÃ o Ä‘á»‰nh cá»§a Stack.
    2.  Khung nÃ y chá»©a cÃ¡c biáº¿n cá»¥c bá»™ cá»§a phÆ°Æ¡ng thá»©c Ä‘Ã³.
    3.  Khi phÆ°Æ¡ng thá»©c káº¿t thÃºc, khung cá»§a nÃ³ sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng xÃ³a (pop) khá»i Stack.
  * **LÆ°u trá»¯:** Stack lÆ°u trá»¯ hai loáº¡i dá»¯ liá»‡u:
      * **Kiá»ƒu nguyÃªn thá»§y (Primitive Types):** NhÆ° `int`, `double`, `boolean`. GiÃ¡ trá»‹ thá»±c táº¿ cá»§a biáº¿n Ä‘Æ°á»£c lÆ°u trá»±c tiáº¿p trÃªn Stack.
      * **Biáº¿n tham chiáº¿u (Object References):** ÄÃ¢y chÃ­nh lÃ  **Ä‘á»‹a chá»‰** trá» Ä‘áº¿n vá»‹ trÃ­ cá»§a má»™t Ä‘á»‘i tÆ°á»£ng thá»±c táº¿ Ä‘ang náº±m trÃªn **Heap**.

> **VÃ­ dá»¥ minh há»a (Analogy):**
>
> TÆ°á»Ÿng tÆ°á»£ng **Heap** lÃ  má»™t nhÃ  kho khá»•ng lá»“ (nÆ¡i chá»©a táº¥t cáº£ hÃ ng hÃ³a). **Stack** lÃ  má»™t táº¥m báº£ng káº¹p giáº¥y (clipboard) Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ lÃ m viá»‡c.
>
> Khi thá»±c thi Ä‘oáº¡n code sau:
>
> ```java
> void doWork() {
>     int id = 10;
>     String name = new String("Java");
> }
> ```
>
> **1**.  Má»™t khung (frame) má»›i cho `doWork()` Ä‘Æ°á»£c táº¡o trÃªn **Stack**.
> **2**.  **`int id = 10;`**: `id` lÃ  kiá»ƒu nguyÃªn thá»§y. GiÃ¡ trá»‹ `10` Ä‘Æ°á»£c lÆ°u trá»±c tiáº¿p vÃ o khung trÃªn **Stack**.
> **3**.  **`String name = new String("Java");`**:
>       * `new String("Java")`: JVM táº¡o má»™t Ä‘á»‘i tÆ°á»£ng `String` má»›i (hÃ ng hÃ³a) vÃ  Ä‘áº·t nÃ³ vÃ o **Heap** (nhÃ  kho).
>       * `String name`: Biáº¿n `name` (má»™t biáº¿n tham chiáº¿u) Ä‘Æ°á»£c lÆ°u trÃªn **Stack**.
>       * `=`: PhÃ©p gÃ¡n nÃ y láº¥y *Ä‘á»‹a chá»‰* cá»§a Ä‘á»‘i tÆ°á»£ng trÃªn Heap vÃ  chÃ©p nÃ³ vÃ o biáº¿n `name` trÃªn Stack.
>
> **Káº¿t quáº£:**
>
>   * **TrÃªn Stack:** CÃ³ biáº¿n `id` (giÃ¡ trá»‹ 10) vÃ  biáº¿n `name` (chá»©a má»™t Ä‘á»‹a chá»‰, vÃ­ dá»¥ `0xABC123`).
>   * **TrÃªn Heap:** Táº¡i Ä‘á»‹a chá»‰ `0xABC123`, cÃ³ má»™t Ä‘á»‘i tÆ°á»£ng `String` chá»©a dá»¯ liá»‡u "Java".

## Cáº¥u trÃºc cá»§a Object trÃªn Heap

Báº£n thÃ¢n Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c lÆ°u trÃªn Heap cÅ©ng cÃ³ cáº¥u trÃºc, thÆ°á»ng bao gá»“m:

1.  **Object Header (Pháº§n Ä‘áº§u):** Chá»©a thÃ´ng tin "siÃªu dá»¯ liá»‡u" (metadata) mÃ  JVM cáº§n, vÃ­ dá»¥: con trá» Ä‘áº¿n thÃ´ng tin Lá»›p (Class), thÃ´ng tin khÃ³a (locking) cho Ä‘a luá»“ng, cÃ¡c bit cá» (flags) cho Garbage Collector.
2.  **Instance Variables (Biáº¿n instance):** Dá»¯ liá»‡u thá»±c táº¿ cá»§a Ä‘á»‘i tÆ°á»£ng (cÃ¡c trÆ°á»ng Ä‘Ã£ khai bÃ¡o).
      * Náº¿u lÃ  kiá»ƒu nguyÃªn thá»§y (`int`), giÃ¡ trá»‹ Ä‘Æ°á»£c lÆ°u ngay táº¡i Ä‘Ã¢y.
      * Náº¿u lÃ  tham chiáº¿u Ä‘áº¿n Ä‘á»‘i tÆ°á»£ng khÃ¡c (vÃ­ dá»¥, má»™t `Person` cÃ³ thuá»™c tÃ­nh `Address`), nÃ³ sáº½ lÆ°u má»™t *Ä‘á»‹a chá»‰* trá» Ä‘áº¿n má»™t Ä‘á»‘i tÆ°á»£ng `Address` *khÃ¡c* cÅ©ng náº±m trÃªn Heap.
3.  **Padding (Pháº§n Ä‘á»‡m):** Má»™t vÃ i byte Ä‘á»‡m Ä‘á»ƒ Ä‘áº£m báº£o kÃ­ch thÆ°á»›c Ä‘á»‘i tÆ°á»£ng Ä‘Æ°á»£c cÄƒn chá»‰nh (alignment), giÃºp CPU truy cáº­p hiá»‡u quáº£ hÆ¡n.

-----

# 3\. Lá»›p Wrapper (Wrapper Classes)

**Lá»›p Wrapper (Lá»›p vá» bá»c)** trong Java lÃ  má»™t lá»›p dÃ¹ng Ä‘á»ƒ bao bá»c (wrap) má»™t kiá»ƒu dá»¯ liá»‡u nguyÃªn thá»§y (primitive type), biáº¿n nÃ³ thÃ nh má»™t Ä‘á»‘i tÆ°á»£ng (object).

  * **NguyÃªn thá»§y:** `int x = 10;` (ÄÃ¢y chá»‰ lÃ  má»™t giÃ¡ trá»‹)
  * **Wrapper:** `Integer xObject = Integer.valueOf(10);` (ÄÃ¢y lÃ  má»™t Ä‘á»‘i tÆ°á»£ng Ä‘áº§y Ä‘á»§ trÃªn Heap, cÃ³ cÃ¡c phÆ°Æ¡ng thá»©c riÃªng)

## VÃ i trÃ² cá»§a lá»›p Wrapper

CÃ¡c kiá»ƒu dá»¯ liá»‡u nguyÃªn thá»§y khÃ´ng pháº£i lÃ  Ä‘á»‘i tÆ°á»£ng, Ä‘iá»u nÃ y táº¡o ra má»™t sá»‘ háº¡n cháº¿. Lá»›p Wrapper ra Ä‘á»i Ä‘á»ƒ giáº£i quyáº¿t chÃºng:

1.  **Sá»­ dá»¥ng trong Collections Framework:** ÄÃ¢y lÃ  lÃ½ do quan trá»ng nháº¥t. CÃ¡c cáº¥u trÃºc dá»¯ liá»‡u nhÆ° `ArrayList`, `HashMap`... chá»‰ cÃ³ thá»ƒ lÆ°u trá»¯ **Ä‘á»‘i tÆ°á»£ng**. KhÃ´ng thá»ƒ táº¡o `ArrayList<int>`, mÃ  pháº£i dÃ¹ng `ArrayList<Integer>`.
2.  **Cho phÃ©p giÃ¡ trá»‹ `null`:**
      * Má»™t biáº¿n `int` pháº£i cÃ³ giÃ¡ trá»‹ (máº·c Ä‘á»‹nh lÃ  `0`).
      * Má»™t Ä‘á»‘i tÆ°á»£ng `Integer` cÃ³ thá»ƒ mang giÃ¡ trá»‹ `null`, biá»ƒu thá»‹ "khÃ´ng cÃ³ giÃ¡ trá»‹". Äiá»u nÃ y ráº¥t há»¯u Ã­ch khi lÃ m viá»‡c vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u.
3.  **Cung cáº¥p cÃ¡c phÆ°Æ¡ng thá»©c tiá»‡n Ã­ch:** ğŸ”§ CÃ¡c lá»›p Wrapper chá»©a nhiá»u phÆ°Æ¡ng thá»©c tÄ©nh (static methods) há»¯u Ã­ch Ä‘á»ƒ xá»­ lÃ½ dá»¯ liá»‡u.
      * `Integer.parseInt("123")`: Chuyá»ƒn chuá»—i thÃ nh `int`.
      * `Double.toString(3.14)`: Chuyá»ƒn `double` thÃ nh chuá»—i.
      * `Character.isDigit('5')`: Kiá»ƒm tra kÃ½ tá»± cÃ³ pháº£i lÃ  sá»‘ khÃ´ng.

## Báº£ng cÃ¡c Lá»›p Wrapper tÆ°Æ¡ng á»©ng

Má»—i kiá»ƒu nguyÃªn thá»§y Ä‘á»u cÃ³ má»™t lá»›p Wrapper tÆ°Æ¡ng á»©ng (náº±m trong gÃ³i `java.lang`):

| Kiá»ƒu nguyÃªn thá»§y (Primitive) | Lá»›p Wrapper (Object) |
| :--------------------------- | :------------------- |
| `int`                        | **`Integer`**        |
| `char`                       | **`Character`**      |
| `double`                     | **`Double`**         |
| `long`                       | **`Long`**           |
| `boolean`                    | **`Boolean`**        |
| `float`                      | **`Float`**          |
| `byte`                       | **`Byte`**           |
| `short`                      | **`Short`**          |

-----

# 4\. Autoboxing vÃ  Unboxing 

**Autoboxing** vÃ  **Unboxing** lÃ  tÃ­nh nÄƒng (tá»« Java 5) cho phÃ©p trÃ¬nh biÃªn dá»‹ch **tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i** giá»¯a kiá»ƒu dá»¯ liá»‡u nguyÃªn thá»§y vÃ  Lá»›p Wrapper tÆ°Æ¡ng á»©ng.

  * **Autoboxing (Tá»± Ä‘á»™ng Ä‘Ã³ng há»™p):** Tá»± Ä‘á»™ng chuyá»ƒn tá»« nguyÃªn thá»§y sang Ä‘á»‘i tÆ°á»£ng (vÃ­ dá»¥: `int` â†’ `Integer`).
  * **Unboxing (Tá»± Ä‘á»™ng má»Ÿ há»™p):** Tá»± Ä‘á»™ng chuyá»ƒn tá»« Ä‘á»‘i tÆ°á»£ng vá» nguyÃªn thá»§y (vÃ­ dá»¥: `Integer` â†’ `int`).


TrÆ°á»›c Java 5, viá»‡c "Ä‘Ã³ng/má»Ÿ há»™p" pháº£i lÃ m thá»§ cÃ´ng:

```java
// CÃCH LÃ€M CÅ¨ (Thá»§ cÃ´ng)
ArrayList<Integer> list = new ArrayList<>();
int num = 10;
list.add(Integer.valueOf(num)); // Pháº£i "Ä‘Ã³ng há»™p" thá»§ cÃ´ng

// Láº¥y ra cÅ©ng pháº£i "má»Ÿ há»™p" thá»§ cÃ´ng
int retrievedNum = list.get(0).intValue();
```

Vá»›i Autoboxing/Unboxing, code trá»Ÿ nÃªn sáº¡ch sáº½ vÃ  trá»±c quan hÆ¡n.

## VÃ­ dá»¥ vá» Autoboxing (NguyÃªn thá»§y â†’ Äá»‘i tÆ°á»£ng)

Autoboxing xáº£y ra khi:

1.  GÃ¡n má»™t giÃ¡ trá»‹ nguyÃªn thá»§y cho má»™t biáº¿n kiá»ƒu Wrapper.
2.  Truyá»n má»™t giÃ¡ trá»‹ nguyÃªn thá»§y lÃ m tham sá»‘ cho phÆ°Æ¡ng thá»©c mong Ä‘á»£i kiá»ƒu Wrapper.

<!-- end list -->

```java
// 1. GÃ¡n trá»±c tiáº¿p
// TrÃ¬nh biÃªn dá»‹ch tá»± Ä‘á»™ng chuyá»ƒn 100 (int) thÃ nh Integer.valueOf(100)
Integer myIntObject = 100;

// 2. DÃ¹ng trong Collections
ArrayList<Integer> numberList = new ArrayList<>();

// Autoboxing: Java tá»± Ä‘á»™ng "Ä‘Ã³ng há»™p" sá»‘ 5 (int)
// thÃ nh má»™t Ä‘á»‘i tÆ°á»£ng Integer Ä‘á»ƒ thÃªm vÃ o danh sÃ¡ch.
numberList.add(5);
numberList.add(10);
```

## VÃ­ dá»¥ vá» Unboxing (Äá»‘i tÆ°á»£ng â†’ NguyÃªn thá»§y)

Unboxing xáº£y ra khi:

1.  GÃ¡n má»™t Ä‘á»‘i tÆ°á»£ng Wrapper cho má»™t biáº¿n kiá»ƒu nguyÃªn thá»§y.
2.  Sá»­ dá»¥ng má»™t Ä‘á»‘i tÆ°á»£ng Wrapper trong cÃ¡c phÃ©p toÃ¡n sá»‘ há»c.

<!-- end list -->

```java
Integer myIntObject = 100; // Autoboxing

// 1. GÃ¡n trá»±c tiáº¿p
// Unboxing: Tá»± Ä‘á»™ng gá»i myIntObject.intValue()
int myIntPrimitive = myIntObject;

// 2. DÃ¹ng trong phÃ©p toÃ¡n
// Unboxing: myIntObject Ä‘Æ°á»£c tá»± Ä‘á»™ng "má»Ÿ há»™p" thÃ nh int 100
// trÆ°á»›c khi thá»±c hiá»‡n phÃ©p cá»™ng.
int sum = myIntObject + 50; // (100 + 50)

System.out.println(sum); // In ra 150
```

> ğŸš¨ **Cáº£nh bÃ¡o quan trá»ng: `NullPointerException`**
>
> ÄÃ¢y lÃ  lá»—i phá»• biáº¿n dá»… xáº£y ra cá»§a Unboxing.
>
>   * Kiá»ƒu nguyÃªn thá»§y (`int`) **khÃ´ng thá»ƒ** lÃ  `null` (máº·c Ä‘á»‹nh lÃ  `0`).
>   * Äá»‘i tÆ°á»£ng Wrapper (`Integer`) **cÃ³ thá»ƒ** lÃ  `null`.
>
> Náº¿u cá»‘ gáº¯ng "má»Ÿ há»™p" (Unbox) má»™t Ä‘á»‘i tÆ°á»£ng Wrapper Ä‘ang bá»‹ `null` Ä‘á»ƒ gÃ¡n vÃ o má»™t biáº¿n nguyÃªn thá»§y, chÆ°Æ¡ng trÃ¬nh sáº½ nÃ©m ra lá»—i **`NullPointerException`**.
>
> **VÃ­ dá»¥ gÃ¢y lá»—i:**
>
> ```java
> Integer myScore = null;
> ```

> // Java cá»‘ gáº¯ng gá»i myScore.intValue() (Unboxing)
> // NhÆ°ng myScore lÃ  null, nÃªn gÃ¢y ra NullPointerException
> int score = myScore;
>
> ````
> 
> CÃ¡ch phÃ²ng trÃ¡nh: LuÃ´n kiá»ƒm tra `null` trÆ°á»›c khi thá»±c hiá»‡n Unboxing.

> ```java
> Integer myScore = null;
> int score = 0; // GiÃ¡ trá»‹ máº·c Ä‘á»‹nh
> ````

> if (myScore \!= null) {
> score = myScore; // Chá»‰ unbox khi nÃ³ khÃ´ng null
> }
> System.out.println(score); // In ra 0
>
> ```
> ```

-----

# 5\. String vs. StringBuilder

Sá»± khÃ¡c biá»‡t cá»‘t lÃµi lÃ :

  * **`String`** lÃ  **báº¥t biáº¿n** (Immutable).
  * **`StringBuilder`** lÃ  **kháº£ biáº¿n** (Mutable).

Äiá»u nÃ y áº£nh hÆ°á»Ÿng ráº¥t lá»›n Ä‘áº¿n hiá»‡u nÄƒng khi xá»­ lÃ½ chuá»—i.

## `String` (Báº¥t biáº¿n)

**Báº¥t biáº¿n (Immutable)** cÃ³ nghÄ©a lÃ  má»™t khi Ä‘á»‘i tÆ°á»£ng `String` Ä‘Æ°á»£c táº¡o ra, ná»™i dung cá»§a nÃ³ **khÃ´ng thá»ƒ thay Ä‘á»•i**.

Khi thá»±c hiá»‡n má»™t phÃ©p "thay Ä‘á»•i" `String`:

```java
String s = "Xin chÃ o";
s = s + " Java"; // ÄÃ¢y khÃ´ng pháº£i lÃ  "thay Ä‘á»•i"
```

Äiá»u thá»±c sá»± xáº£y ra lÃ :

1.  JVM táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng `String` lÃ  `"Xin chÃ o"`. Biáº¿n `s` trá» Ä‘áº¿n nÃ³.
2.  Khi `s + " Java"`, JVM táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng `String` **hoÃ n toÃ n má»›i** lÃ  `"Xin chÃ o Java"`.
3.  Biáº¿n `s` bÃ¢y giá» Ä‘Æ°á»£c cáº­p nháº­t Ä‘á»ƒ trá» Ä‘áº¿n Ä‘á»‘i tÆ°á»£ng *má»›i* nÃ y.
4.  Äá»‘i tÆ°á»£ng `"Xin chÃ o"` ban Ä‘áº§u trá»Ÿ thÃ nh "rÃ¡c" vÃ  sáº½ bá»‹ Garbage Collector (GC) dá»n dáº¹p.

**Há»‡ quáº£:** Ná»‘i chuá»—i `String` liÃªn tá»¥c trong má»™t vÃ²ng láº·p sáº½ táº¡o ra ráº¥t nhiá»u Ä‘á»‘i tÆ°á»£ng rÃ¡c vÃ  lÃ m giáº£m hiá»‡u nÄƒng nghiÃªm trá»ng.

```java
// CÃCH LÃ€M Ráº¤T Tá»† (DÃ¹ng String trong vÃ²ng láº·p)
String result = "";
for (int i = 0; i < 1000; i++) {
    result = result + i; // Má»—i láº§n láº·p Táº O RA 1 Äá»I TÆ¯á»¢NG String má»›i!
}
```

## `StringBuilder` (Kháº£ biáº¿n)

**Kháº£ biáº¿n (Mutable)** cÃ³ nghÄ©a lÃ  ná»™i dung cá»§a Ä‘á»‘i tÆ°á»£ng **cÃ³ thá»ƒ thay Ä‘á»•i** sau khi nÃ³ Ä‘Æ°á»£c táº¡o ra.

`StringBuilder` quáº£n lÃ½ má»™t bá»™ Ä‘á»‡m (buffer) bÃªn trong vÃ  cho phÃ©p thÃªm, chÃ¨n, xÃ³a kÃ½ tá»± mÃ  **khÃ´ng cáº§n táº¡o Ä‘á»‘i tÆ°á»£ng má»›i** má»—i láº§n.

```java
// CÃCH LÃ€M Tá»T (DÃ¹ng StringBuilder)
StringBuilder sb = new StringBuilder(); // 1. Táº¡o 1 Ä‘á»‘i tÆ°á»£ng duy nháº¥t
for (int i = 0; i < 1000; i++) {
    sb.append(i); // 2. Chá»‰ Sá»¬A Äá»”I Ä‘á»‘i tÆ°á»£ng Ä‘Ã³, khÃ´ng táº¡o má»›i
}
String result = sb.toString(); // 3. Chá»‰ táº¡o String káº¿t quáº£ 1 láº§n duy nháº¥t
```

CÃ¡ch nÃ y hiá»‡u quáº£ hÆ¡n ráº¥t nhiá»u vÃ¬ nÃ³ chá»‰ lÃ m viá»‡c trÃªn má»™t Ä‘á»‘i tÆ°á»£ng duy nháº¥t.

## So sÃ¡nh

| TÃ­nh cháº¥t                 | `String`                     | `StringBuilder`        |
| :------------------------ | :--------------------------- | :--------------------- |
| **Kháº£ nÄƒng thay Ä‘á»•i**     | **Báº¥t biáº¿n** (Immutable)     | **Kháº£ biáº¿n** (Mutable) |
| **Hiá»‡u nÄƒng (Ná»‘i chuá»—i)** | **Cháº­m** (náº¿u ná»‘i nhiá»u láº§n) | **Ráº¥t nhanh**          |
| **An toÃ n Äa luá»“ng**      | An toÃ n (VÃ¬ khÃ´ng Ä‘á»•i)       | **KhÃ´ng** an toÃ n      |
| **Bá»™ nhá»›**                | Tá»‘n nhiá»u náº¿u ná»‘i liÃªn tá»¥c   | Tiáº¿t kiá»‡m hÆ¡n          |

## TÃ¬nh huá»‘ng sá»­ dá»¥ng

  * **DÃ¹ng `String` khi:**
      * Chuá»—i lÃ  cá»‘ Ä‘á»‹nh, khÃ´ng thay Ä‘á»•i (vÃ­ dá»¥: háº±ng sá»‘, tÃªn cáº¥u hÃ¬nh).
      * Chá»‰ ná»‘i chuá»—i Ä‘Æ¡n giáº£n 1-2 láº§n.
  * **DÃ¹ng `StringBuilder` khi:**
      * Cáº§n xÃ¢y dá»±ng má»™t chuá»—i phá»©c táº¡p tá»« nhiá»u pháº§n.
      * Cáº§n **ná»‘i chuá»—i bÃªn trong má»™t vÃ²ng láº·p (loop)**.

### Ghi chÃº: `StringBuffer`

`StringBuffer` giá»‘ng há»‡t `StringBuilder` (cÅ©ng lÃ  kháº£ biáº¿n) nhÆ°ng cÃ³ thÃªm má»™t Ä‘iá»ƒm khÃ¡c biá»‡t:

  * **`StringBuffer`** lÃ  **thread-safe** (an toÃ n cho Ä‘a luá»“ng).
  * **`StringBuilder`** lÃ  **khÃ´ng thread-safe**.

VÃ¬ `StringBuilder` khÃ´ng pháº£i lo vá» an toÃ n Ä‘a luá»“ng, nÃ³ **nhanh hÆ¡n** `StringBuffer`. Trong mÃ´i trÆ°á»ng Ä‘Æ¡n luá»“ng (Ä‘a sá»‘ trÆ°á»ng há»£p), **luÃ´n Æ°u tiÃªn dÃ¹ng `StringBuilder`**.

-----

# 6\. So sÃ¡nh: `==` vs. `.equals()` vs. `.hashCode()`

ÄÃ¢y lÃ  ba khÃ¡i niá»‡m ná»n táº£ng khi lÃ m viá»‡c vá»›i Ä‘á»‘i tÆ°á»£ng, Ä‘áº·c biá»‡t lÃ  trong cÃ¡c Collections.

  * **`==`** (toÃ¡n tá»­): So sÃ¡nh **tham chiáº¿u** (Ä‘á»‹a chá»‰ bá»™ nhá»›).
  * **`.equals()`** (phÆ°Æ¡ng thá»©c): So sÃ¡nh **ná»™i dung** (Ã½ nghÄ©a logic).
  * **`.hashCode()`** (phÆ°Æ¡ng thá»©c): Tráº£ vá» má»™t **mÃ£ bÄƒm** (sá»‘ nguyÃªn) Ä‘á»ƒ tá»‘i Æ°u viá»‡c lÆ°u trá»¯/tÃ¬m kiáº¿m.

## 1\. ToÃ¡n tá»­ `==` (So sÃ¡nh tham chiáº¿u) 

ToÃ¡n tá»­ `==` kiá»ƒm tra xem hai biáº¿n cÃ³ trá» Ä‘áº¿n **cÃ¹ng má»™t vá»‹ trÃ­** trong bá»™ nhá»› hay khÃ´ng ("ÄÃ¢y cÃ³ pháº£i lÃ  CÃ™NG Má»˜T Ä‘á»‘i tÆ°á»£ng khÃ´ng?").

  * **Vá»›i kiá»ƒu nguyÃªn thá»§y (`int`, `char`...):** NÃ³ so sÃ¡nh **giÃ¡ trá»‹** thá»±c táº¿.
    ```java
    int a = 10;
    int b = 10;
    // a == b lÃ  TRUE
    ```
  * **Vá»›i Ä‘á»‘i tÆ°á»£ng (`String`, `Integer`...):** NÃ³ so sÃ¡nh **Ä‘á»‹a chá»‰ bá»™ nhá»›**.
    ```java
    // s1 vÃ  s2 trá» Ä‘áº¿n CÃ™NG Má»˜T Ä‘á»‘i tÆ°á»£ng trong "String Pool"
    String s1 = "Hello";
    String s2 = "Hello";

    // s3 lÃ  má»™t Ä‘á»‘i tÆ°á»£ng Má»šI, Ä‘Æ°á»£c táº¡o riÃªng trÃªn Heap
    String s3 = new String("Hello");

    System.out.println(s1 == s2); // TRUE (cÃ¹ng Ä‘á»‹a chá»‰)
    System.out.println(s1 == s3); // FALSE (khÃ¡c Ä‘á»‹a chá»‰)
    ```

## 2\. PhÆ°Æ¡ng thá»©c `.equals()` (So sÃ¡nh ná»™i dung) 

PhÆ°Æ¡ng thá»©c `.equals()` kiá»ƒm tra xem hai Ä‘á»‘i tÆ°á»£ng cÃ³ **tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá» máº·t logic** (cÃ³ cÃ¹ng ná»™i dung) hay khÃ´ng.

  * **Máº·c Ä‘á»‹nh:** Náº¿u khÃ´ng Ä‘Æ°á»£c override (Ä‘á»‹nh nghÄ©a láº¡i), `.equals()` (thá»«a káº¿ tá»« lá»›p `Object`) hoáº¡t Ä‘á»™ng **giá»‘ng há»‡t `==`**.
  * **Khi Ä‘Æ°á»£c override:** CÃ¡c lá»›p nhÆ° `String`, `Integer`... Ä‘á»u Ä‘Ã£ override phÆ°Æ¡ng thá»©c nÃ y Ä‘á»ƒ nÃ³ so sÃ¡nh **ná»™i dung** bÃªn trong.

<!-- end list -->

```java
String s1 = "Hello";
String s3 = new String("Hello");

// Máº·c dÃ¹ s1 vÃ  s3 khÃ¡c Ä‘á»‹a chá»‰ (s1 == s3 lÃ  FALSE)
// NhÆ°ng ná»™i dung ("H-e-l-l-o") lÃ  giá»‘ng há»‡t nhau
System.out.println(s1.equals(s3)); // TRUE
```

Khi táº¡o má»™t lá»›p tÃ¹y chá»‰nh (vÃ­ dá»¥ `Student`), láº­p trÃ¬nh viÃªn pháº£i tá»± override `equals()` Ä‘á»ƒ quy Ä‘á»‹nh khi nÃ o hai `Student` Ä‘Æ°á»£c coi lÃ  "báº±ng nhau" (vÃ­ dá»¥: khi cÃ³ cÃ¹ng `studentID`).

## 3\. PhÆ°Æ¡ng thá»©c `.hashCode()` (MÃ£ bÄƒm) 

PhÆ°Æ¡ng thá»©c `.hashCode()` tráº£ vá» má»™t sá»‘ nguyÃªn (`int`), gá»i lÃ  mÃ£ bÄƒm.

**Má»¥c Ä‘Ã­ch:** NÃ³ **KHÃ”NG** dÃ¹ng Ä‘á»ƒ so sÃ¡nh báº±ng nhau. Má»¥c Ä‘Ã­ch chÃ­nh lÃ  Ä‘á»ƒ sá»­ dá»¥ng trong cÃ¡c cáº¥u trÃºc dá»¯ liá»‡u dá»±a trÃªn báº£ng bÄƒm (hash-based collections) nhÆ° `HashMap`, `HashSet`.

`HashMap` dÃ¹ng `hashCode()` Ä‘á»ƒ quyáº¿t Ä‘á»‹nh nÃªn Ä‘áº·t Ä‘á»‘i tÆ°á»£ng vÃ o "xÃ´" (bucket) nÃ o, giÃºp viá»‡c tÃ¬m kiáº¿m/thÃªm/xÃ³a cá»±c ká»³ nhanh (thá»i gian $O(1)$).

## 4\. "Há»£p Ä‘á»“ng" (Contract) giá»¯a `equals()` vÃ  `hashCode()` 

Khi override `equals()`, **Báº®T BUá»˜C** pháº£i override `hashCode()` theo quy táº¯c sau:

1.  Náº¿u `a.equals(b)` lÃ  **`true`**, thÃ¬ `a.hashCode()` **PHáº¢I** báº±ng `b.hashCode()`.
    *(Hai Ä‘á»‘i tÆ°á»£ng báº±ng nhau pháº£i cÃ³ cÃ¹ng mÃ£ bÄƒm).*
2.  Náº¿u `a.hashCode()` báº±ng `b.hashCode()`, thÃ¬ `a.equals(b)` **KHÃ”NG** nháº¥t thiáº¿t pháº£i lÃ  `true`.
    *(Hai Ä‘á»‘i tÆ°á»£ng khÃ¡c nhau CÃ“ THá»‚ vÃ´ tÃ¬nh cÃ³ cÃ¹ng mÃ£ bÄƒm. ÄÃ¢y gá»i lÃ  "va cháº¡m" - hash collision).*

**Há»‡ quáº£ náº¿u vi pháº¡m:** CÃ¡c cáº¥u trÃºc nhÆ° `HashMap` sáº½ hoáº¡t Ä‘á»™ng sai. Má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ thá»ƒ Ä‘Æ°á»£c `put` vÃ o má»™t "xÃ´", nhÆ°ng khi `get` láº¡i tÃ¬m á»Ÿ má»™t "xÃ´" khÃ¡c (do `hashCode` khÃ¡c nhau), dáº«n Ä‘áº¿n khÃ´ng bao giá» tÃ¬m tháº¥y.

## 5\. ChÃº Ã½

1.  DÃ¹ng `==` Ä‘á»ƒ so sÃ¡nh cÃ¡c kiá»ƒu nguyÃªn thá»§y.
2.  DÃ¹ng `==` Ä‘á»ƒ kiá»ƒm tra xem hai biáº¿n cÃ³ trá» Ä‘áº¿n **cÃ¹ng má»™t Ä‘á»‘i tÆ°á»£ng** hay khÃ´ng.
3.  DÃ¹ng `.equals()` Ä‘á»ƒ kiá»ƒm tra xem hai Ä‘á»‘i tÆ°á»£ng cÃ³ **ná»™i dung báº±ng nhau** hay khÃ´ng.
4.  Khi **override `equals()`**, hÃ£y **luÃ´n override `hashCode()`**.

-----

# 7\. CÆ¡ cháº¿ truyá»n tham sá»‘: Pass-by-Value

 **Java chá»‰ "pass-by-value" (truyá»n báº±ng giÃ¡ trá»‹).**

Sá»± nháº§m láº«n phá»• biáº¿n (vÃ­ dá»¥ nhÆ° vá»›i `String`) Ä‘áº¿n tá»« viá»‡c hiá»ƒu sai vá» Ä‘á»‘i tÆ°á»£ng vÃ  tham chiáº¿u, chá»© khÃ´ng pháº£i hiá»ƒu sai vá» "pass-by-value".

## Pass-by-Value

"Pass-by-value" cÃ³ nghÄ©a lÃ  khi má»™t phÆ°Æ¡ng thá»©c Ä‘Æ°á»£c gá»i, Java sáº½ **táº¡o má»™t báº£n sao (copy)** cá»§a biáº¿n vÃ  truyá»n báº£n sao Ä‘Ã³ vÃ o phÆ°Æ¡ng thá»©c. PhÆ°Æ¡ng thá»©c chá»‰ lÃ m viá»‡c trÃªn **báº£n sao**, khÃ´ng pháº£i báº£n gá»‘c.

### TrÆ°á»ng há»£p 1: Kiá»ƒu NguyÃªn thá»§y (vÃ­ dá»¥: `int`)

Khi truyá»n má»™t biáº¿n `int`, Java sáº½ sao chÃ©p **giÃ¡ trá»‹** cá»§a nÃ³.

```java
public static void main(String[] args) {
    int myNumber = 10;
    changeNumber(myNumber);
    System.out.println(myNumber); // Sáº½ in ra 10
}

public static void changeNumber(int x) {
    // x lÃ  Báº¢N SAO cá»§a myNumber (cÅ©ng cÃ³ giÃ¡ trá»‹ 10)
    x = 20; // Chá»‰ thay Ä‘á»•i báº£n sao, báº£n gá»‘c 'myNumber' khÃ´ng Ä‘á»•i
}
```

### TrÆ°á»ng há»£p 2: Äá»‘i tÆ°á»£ng (vÃ­ dá»¥: `StringBuilder`, `String`)

Khi truyá»n má»™t Ä‘á»‘i tÆ°á»£ng, Java **khÃ´ng** sao chÃ©p toÃ n bá»™ Ä‘á»‘i tÆ°á»£ng. Thay vÃ o Ä‘Ã³, nÃ³ sao chÃ©p **giÃ¡ trá»‹ cá»§a biáº¿n tham chiáº¿u** (tá»©c lÃ  Ä‘á»‹a chá»‰ bá»™ nhá»›).

> **VÃ­ dá»¥ so sÃ¡nh:**
>
> 1.  Má»™t ngÃ´i nhÃ  Ä‘Æ°á»£c xÃ¢y (Ä‘á»‘i tÆ°á»£ng trÃªn Heap).
> 2.  Má»™t tham chiáº¿u gá»‘c (`myBuilder`) giá»¯ Ä‘á»‹a chá»‰ cá»§a ngÃ´i nhÃ  (chÃ¬a khÃ³a gá»‘c).
> 3.  Khi gá»i phÆ°Æ¡ng thá»©c `changeBuilder(myBuilder)`, Java táº¡o má»™t *báº£n sao cá»§a chÃ¬a khÃ³a* (tham chiáº¿u `sb`) vÃ  Ä‘Æ°a nÃ³ cho phÆ°Æ¡ng thá»©c.
> 4.  BÃ¢y giá» cÃ³ hai chÃ¬a khÃ³a (`myBuilder` vÃ  `sb`) cÃ¹ng trá» Ä‘áº¿n **má»™t ngÃ´i nhÃ  duy nháº¥t**.
> 5.  PhÆ°Æ¡ng thá»©c `changeBuilder` cÃ³ thá»ƒ dÃ¹ng chÃ¬a khÃ³a sao (`sb`) Ä‘á»ƒ vÃ o nhÃ  vÃ  *sÆ¡n láº¡i tÆ°á»ng* (thay Ä‘á»•i ná»™i dung bÃªn trong cá»§a Ä‘á»‘i tÆ°á»£ng).

## String thay Ä‘á»•i Ä‘Æ°á»£c khÃ´ng?

Sá»± tháº­t lÃ : **`String` KHÃ”NG THAY Äá»”I ÄÆ¯á»¢C.**

NhÆ° Ä‘Ã£ giáº£i thÃ­ch á»Ÿ trÃªn, `String` lÃ  **báº¥t biáº¿n (immutable)**. Báº¥t ká»³ ná»— lá»±c "thay Ä‘á»•i" nÃ o thá»±c cháº¥t chá»‰ lÃ  táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng `String` má»›i.

```java
public static void main(String[] args) {
    String myString = "Hello";
    changeString(myString);
    System.out.println(myString); // Sáº½ in ra "Hello"
}

public static void changeString(String s) {
    // s lÃ  Báº¢N SAO cá»§a tham chiáº¿u (cáº£ hai cÃ¹ng trá» Ä‘áº¿n "Hello")
    
    // DÃ²ng nÃ y táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng "Hello World" Má»šI
    // vÃ  lÃ m cho Báº¢N SAO 's' trá» Ä‘áº¿n Ä‘á»‘i tÆ°á»£ng Má»šI Ä‘Ã³.
    s = s + " World"; 
    
    // Tham chiáº¿u 'myString' ban Ä‘áº§u khÃ´ng há» bá»‹ áº£nh hÆ°á»Ÿng.
    // NÃ³ váº«n trá» Ä‘áº¿n Ä‘á»‘i tÆ°á»£ng "Hello" cÅ©.
}
```

Káº¿t quáº£ lÃ  `"Hello"`, chá»©ng minh Java lÃ  pass-by-value.

## PhÃ¢n biá»‡t vá»›i Ä‘á»‘i tÆ°á»£ng Kháº£ biáº¿n (Mutable)

Vá»›i Ä‘á»‘i tÆ°á»£ng kháº£ biáº¿n (nhÆ° `StringBuilder`), phÆ°Æ¡ng thá»©c cÃ³ thá»ƒ thay Ä‘á»•i ná»™i dung cá»§a Ä‘á»‘i tÆ°á»£ng gá»‘c, vÃ¬ cáº£ hai tham chiáº¿u (gá»‘c vÃ  báº£n sao) Ä‘á»u trá» Ä‘áº¿n cÃ¹ng má»™t Ä‘á»‘i tÆ°á»£ng.

```java
public static void main(String[] args) {
    StringBuilder myBuilder = new StringBuilder("Hello");
    changeBuilder(myBuilder);
    System.out.println(myBuilder.toString()); // Sáº½ in ra "Hello World"
}

public static void changeBuilder(StringBuilder sb) {
    // sb lÃ  Báº¢N SAO cá»§a tham chiáº¿u (cÃ¹ng trá» Ä‘áº¿n 1 Ä‘á»‘i tÆ°á»£ng StringBuilder)
    
    // DÃ²ng nÃ y KHÃ”NG táº¡o Ä‘á»‘i tÆ°á»£ng má»›i.
    // NÃ³ dÃ¹ng tham chiáº¿u sb Ä‘á»ƒ thay Ä‘á»•i Ná»˜I DUNG BÃŠN TRONG
    // cá»§a Ä‘á»‘i tÆ°á»£ng StringBuilder Gá»C.
    sb.append(" World"); 
}
```

-----

# 8\. KhÃ¡i niá»‡m vá» Garbage Collector (GC) 

**Garbage Collector (GC)**, hay "Bá»™ Dá»n RÃ¡c", lÃ  má»™t tiáº¿n trÃ¬nh **tá»± Ä‘á»™ng** cháº¡y ngáº§m trong JVM vá»›i má»¥c Ä‘Ã­ch duy nháº¥t: **tá»± Ä‘á»™ng giáº£i phÃ³ng bá»™ nhá»›** Ä‘Ã£ cáº¥p phÃ¡t cho cÃ¡c Ä‘á»‘i tÆ°á»£ng khÃ´ng cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng ná»¯a.

## Vai trÃ² cá»§a GC

Trong cÃ¡c ngÃ´n ngá»¯ nhÆ° C/C++, láº­p trÃ¬nh viÃªn pháº£i quáº£n lÃ½ bá»™ nhá»› thá»§ cÃ´ng (dÃ¹ng `malloc()` vÃ  `free()`). Náº¿u cáº¥p phÃ¡t mÃ  quÃªn giáº£i phÃ³ng, sáº½ xáº£y ra **rÃ² rá»‰ bá»™ nhá»› (memory leak)**, khiáº¿n á»©ng dá»¥ng cáº¡n kiá»‡t bá»™ nhá»› vÃ  sáº­p.

**Giáº£i phÃ¡p cá»§a Java:** GC tá»± Ä‘á»™ng hÃ³a hoÃ n toÃ n viá»‡c "tráº£ láº¡i" bá»™ nhá»›. Láº­p trÃ¬nh viÃªn chá»‰ cáº§n táº¡o Ä‘á»‘i tÆ°á»£ng (`new`), GC sáº½ lo pháº§n cÃ²n láº¡i.

## CÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi

### GC hoáº¡t Ä‘á»™ng á»Ÿ Ä‘Ã¢u?

GC chá»‰ hoáº¡t Ä‘á»™ng vÃ  quáº£n lÃ½ cÃ¡c Ä‘á»‘i tÆ°á»£ng náº±m trÃªn **Bá»™ nhá»› Heap (Heap Memory)**. Bá»™ nhá»› Stack (Stack Memory) khÃ´ng cáº§n GC vÃ¬ nÃ³ tá»± Ä‘á»™ng giáº£i phÃ³ng cÃ¡c biáº¿n khi má»™t phÆ°Æ¡ng thá»©c (method) káº¿t thÃºc.

### "RÃ¡c" (Garbage) lÃ  gÃ¬?

Má»™t Ä‘á»‘i tÆ°á»£ng bá»‹ coi lÃ  "rÃ¡c" khi nÃ³ **khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c (unreachable)**. NghÄ©a lÃ  khÃ´ng cÃ²n báº¥t ká»³ tham chiáº¿u "cÃ²n sá»‘ng" nÃ o trá» Ä‘áº¿n Ä‘á»‘i tÆ°á»£ng Ä‘Ã³.

### GC Roots (CÃ¡c Ä‘iá»ƒm gá»‘c)

Äá»ƒ biáº¿t má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ "cÃ²n sá»‘ng" hay khÃ´ng, GC báº¯t Ä‘áº§u quÃ©t tá»« má»™t táº­p há»£p cÃ¡c tham chiáº¿u Ä‘áº·c biá»‡t gá»i lÃ  **GC Roots**. ÄÃ¢y lÃ  nhá»¯ng "Ä‘iá»ƒm neo" mÃ  GC biáº¿t cháº¯c cháº¯n lÃ  Ä‘ang Ä‘Æ°á»£c sá»­ dá»¥ng.

  * CÃ¡c biáº¿n cá»¥c bá»™ Ä‘ang hoáº¡t Ä‘á»™ng (náº±m trÃªn Stack).
  * CÃ¡c biáº¿n `static` cá»§a cÃ¡c lá»›p.

### QuÃ¡ trÃ¬nh "Mark and Sweep" (ÄÃ¡nh dáº¥u vÃ  Dá»n dáº¹p)

ÄÃ¢y lÃ  thuáº­t toÃ¡n GC cÆ¡ báº£n nháº¥t:

1.  **Giai Ä‘oáº¡n ÄÃ¡nh dáº¥u (Mark):**
      * GC báº¯t Ä‘áº§u tá»« cÃ¡c **GC Roots**.
      * NÃ³ Ä‘i theo má»i tham chiáº¿u vÃ  "Ä‘Ã¡nh dáº¥u" (mark) táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng mÃ  nÃ³ cÃ³ thá»ƒ "cháº¡m" tá»›i lÃ  **"cÃ²n sá»‘ng"**.
2.  **Giai Ä‘oáº¡n Dá»n dáº¹p (Sweep):**
      * Sau khi Ä‘Ã¡nh dáº¥u xong, GC quÃ©t (sweep) toÃ n bá»™ Heap.
      * Báº¥t ká»³ Ä‘á»‘i tÆ°á»£ng nÃ o **khÃ´ng** Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u sáº½ bá»‹ coi lÃ  "rÃ¡c" vÃ  bá»™ nhá»› cá»§a nÃ³ sáº½ bá»‹ thu há»“i.

## GC theo tháº¿ há»‡ (Generational GC)

QuÃ©t toÃ n bá»™ Heap liÃªn tá»¥c lÃ  ráº¥t tá»‘n kÃ©m. Dá»±a trÃªn "Giáº£ thuyáº¿t tháº¿ há»‡" (Háº§u háº¿t cÃ¡c Ä‘á»‘i tÆ°á»£ng Ä‘á»u "cháº¿t tráº»"), JVM chia Heap thÃ nh cÃ¡c "tháº¿ há»‡":

### 1\. Young Generation (Tháº¿ há»‡ Tráº») 

ÄÃ¢y lÃ  nÆ¡i **táº¥t cáº£ cÃ¡c Ä‘á»‘i tÆ°á»£ng má»›i** Ä‘Æ°á»£c táº¡o ra (trong vÃ¹ng "Eden").

  * VÃ¹ng nÃ y Ä‘Æ°á»£c GC quÃ©t **ráº¥t thÆ°á»ng xuyÃªn** (gá»i lÃ  **Minor GC**) vÃ¬ chá»©a nhiá»u "rÃ¡c" nháº¥t.
  * QuÃ¡ trÃ¬nh nÃ y ráº¥t nhanh. CÃ¡c Ä‘á»‘i tÆ°á»£ng "sá»‘ng sÃ³t" qua vÃ i láº§n Minor GC sáº½ Ä‘Æ°á»£c "thÄƒng cáº¥p" (promoted) lÃªn Tháº¿ há»‡ GiÃ .

### 2\. Old Generation (Tháº¿ há»‡ GiÃ  - "Tenured") 

ÄÃ¢y lÃ  nÆ¡i chá»©a cÃ¡c Ä‘á»‘i tÆ°á»£ng Ä‘Ã£ "sá»‘ng lÃ¢u" (vÃ­ dá»¥: cÃ¡c Ä‘á»‘i tÆ°á»£ng `static`, connection pool).

  * VÃ¹ng nÃ y Ä‘Æ°á»£c GC quÃ©t **Ã­t thÆ°á»ng xuyÃªn hÆ¡n** (gá»i lÃ  **Major GC** hoáº·c **Full GC**).
  * QuÃ¡ trÃ¬nh nÃ y cháº­m hÆ¡n Ä‘Ã¡ng ká»ƒ.

**Lá»£i Ã­ch:** Báº±ng cÃ¡ch táº­p trung dá»n dáº¹p thÆ°á»ng xuyÃªn á»Ÿ vÃ¹ng "tráº»", GC hoáº¡t Ä‘á»™ng hiá»‡u quáº£ hÆ¡n nhiá»u.

## "Stop-the-World" (Táº¡m dá»«ng tháº¿ giá»›i)

Khi GC cháº¡y, nÃ³ cáº§n má»™t "bá»©c áº£nh" á»•n Ä‘á»‹nh cá»§a bá»™ nhá»›. Äá»ƒ lÃ m Ä‘iá»u nÃ y, GC thÆ°á»ng pháº£i **táº¡m dá»«ng táº¥t cáº£ cÃ¡c luá»“ng (threads) cá»§a á»©ng dá»¥ng** trong má»™t khoáº£ng thá»i gian ngáº¯n. Khoáº£ng dá»«ng nÃ y Ä‘Æ°á»£c gá»i lÃ  **"Stop-the-World" (STW)**.

Má»¥c tiÃªu cá»§a cÃ¡c thuáº­t toÃ¡n GC hiá»‡n Ä‘áº¡i (nhÆ° G1 GC, ZGC) lÃ  giáº£m thiá»ƒu thá»i gian "táº¡m dá»«ng" nÃ y xuá»‘ng má»©c tháº¥p nháº¥t.