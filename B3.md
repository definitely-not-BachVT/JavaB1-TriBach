# Buá»•i 3: Má»i thá»© Ä‘á»u lÃ  Ä‘á»‘i tÆ°á»£ng

## TÃ­nh Ä‘Ã³ng gÃ³i

TÃ­nh Ä‘Ã³ng gÃ³i **(Encapsulation)** trong Java lÃ  má»™t trong bá»‘n nguyÃªn táº¯c cÆ¡ báº£n cá»§a láº­p trÃ¬nh hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng (OOP).

NÃ³i má»™t cÃ¡ch Ä‘Æ¡n giáº£n, Ä‘Ã³ng gÃ³i lÃ  ká»¹ thuáº­t che giáº¥u thÃ´ng tin **(data hiding)** báº±ng cÃ¡ch gÃ³i gá»n dá»¯ liá»‡u **(cÃ¡c biáº¿n)** vÃ  cÃ¡c phÆ°Æ¡ng thá»©c **(hÃ m)** xá»­ lÃ½ dá»¯ liá»‡u Ä‘Ã³ vÃ o bÃªn trong má»™t lá»›p **(class)**. Lá»›p Ä‘Ã³ sáº½ kiá»ƒm soÃ¡t quyá»n truy cáº­p vÃ o dá»¯ liá»‡u cá»§a nÃ³ tá»« bÃªn ngoÃ i.

-----

### CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng

Viá»‡c triá»ƒn khai Ä‘Ã³ng gÃ³i trong Java tuÃ¢n theo cÃ¡c bÆ°á»›c sau:

1.  **Khai bÃ¡o `private`:**

      * Táº¥t cáº£ cÃ¡c biáº¿n (thuá»™c tÃ­nh) cá»§a lá»›p Ä‘Æ°á»£c khai bÃ¡o lÃ  `private`.
      * Äiá»u nÃ y ngÄƒn cháº·n cÃ¡c lá»›p khÃ¡c truy cáº­p trá»±c tiáº¿p vÃ o chÃºng.

2.  **Cung cáº¥p public methods:**

      * Lá»›p cung cáº¥p cÃ¡c phÆ°Æ¡ng thá»©c `public` Ä‘á»ƒ truy cáº­p vÃ  thay Ä‘á»•i giÃ¡ trá»‹ cá»§a cÃ¡c biáº¿n `private` Ä‘Ã³. CÃ¡c phÆ°Æ¡ng thá»©c nÃ y thÆ°á»ng Ä‘Æ°á»£c gá»i lÃ :
          * **Getter:** PhÆ°Æ¡ng thá»©c dÃ¹ng Ä‘á»ƒ láº¥y (get) giÃ¡ trá»‹ cá»§a má»™t biáº¿n. (vÃ­ dá»¥: `getTen()`)
          * **Setter:** PhÆ°Æ¡ng thá»©c dÃ¹ng Ä‘á»ƒ thiáº¿t láº­p (set) giÃ¡ trá»‹ cho má»™t biáº¿n. (vÃ­ dá»¥: `setTen(String tenMoi)`)

-----

### VÃ­ dá»¥ minh há»a

XÃ©t má»™t lá»›p `XeHoi` (Car) Ä‘Æ¡n giáº£n. ChÃºng ta khÃ´ng muá»‘n ai cÅ©ng cÃ³ thá»ƒ thay Ä‘á»•i tá»‘c Ä‘á»™ (speed) cá»§a xe má»™t cÃ¡ch tÃ¹y tiá»‡n (vÃ­ dá»¥: gÃ¡n tá»‘c Ä‘á»™ Ã¢m).

```java
public class XeHoi {
    // 1. Dá»¯ liá»‡u Ä‘Æ°á»£c che giáº¥u (private)
    private int tocDo;
    private String tenModel;

    // 2. PhÆ°Æ¡ng thá»©c public (Getter) Ä‘á»ƒ Ä‘á»c dá»¯ liá»‡u
    public int getTocDo() {
        return this.tocDo;
    }

    // 2. PhÆ°Æ¡ng thá»©c public (Setter) Ä‘á»ƒ thay Ä‘á»•i dá»¯ liá»‡u
    public void setTocDo(int tocDoMoi) {
        // Lá»›p cÃ³ thá»ƒ kiá»ƒm soÃ¡t dá»¯ liá»‡u Ä‘áº§u vÃ o
        if (tocDoMoi >= 0) {
            this.tocDo = tocDoMoi;
        } else {
            System.out.println("Toc do khong the la so am!");
        }
    }
    
    // Getter vÃ  Setter cho tenModel
    public String getTenModel() {
        return this.tenModel;
    }

    public void setTenModel(String tenModel) {
        this.tenModel = tenModel;
    }
}
```

**CÃ¡ch sá»­ dá»¥ng:**

```java
// Trong má»™t lá»›p khÃ¡c
XeHoi vinfast = new XeHoi();

// KHÃ”NG THá»‚ truy cáº­p trá»±c tiáº¿p (gÃ¢y lá»—i)
// vinfast.tocDo = -50; 

// PHáº¢I dÃ¹ng phÆ°Æ¡ng thá»©c Setter
vinfast.setTocDo(60);      // Há»£p lá»‡
vinfast.setTocDo(-50);     // KhÃ´ng há»£p lá»‡, sáº½ in ra thÃ´ng bÃ¡o lá»—i

// DÃ¹ng Getter Ä‘á»ƒ Ä‘á»c giÃ¡ trá»‹
System.out.println(vinfast.getTocDo()); // In ra: 60
```

-----

### Lá»£i Ã­ch cá»§a tÃ­nh Ä‘Ã³ng gÃ³i

  * **Kiá»ƒm soÃ¡t dá»¯ liá»‡u:** ÄÃ¢y lÃ  lá»£i Ã­ch lá»›n nháº¥t. Lá»›p cÃ³ thá»ƒ toÃ n quyá»n kiá»ƒm soÃ¡t giÃ¡ trá»‹ cá»§a cÃ¡c thuá»™c tÃ­nh cá»§a nÃ³. NhÆ° vÃ­ dá»¥ trÃªn, phÆ°Æ¡ng thá»©c `setTocDo` Ä‘áº£m báº£o tá»‘c Ä‘á»™ khÃ´ng bao giá» lÃ  sá»‘ Ã¢m.
  * **Báº£o máº­t (Data Hiding):** CÃ¡c chi tiáº¿t triá»ƒn khai bÃªn trong cá»§a lá»›p Ä‘Æ°á»£c che giáº¥u. CÃ¡c lá»›p khÃ¡c khÃ´ng cáº§n biáº¿t cÃ¡ch thá»©c lá»›p Ä‘Ã³ lÆ°u trá»¯ dá»¯ liá»‡u, chÃºng chá»‰ cáº§n gá»i cÃ¡c phÆ°Æ¡ng thá»©c `public` Ä‘Æ°á»£c cung cáº¥p.
  * **TÃ­nh linh hoáº¡t vÃ  báº£o trÃ¬:** CÃ³ thá»ƒ thay Ä‘á»•i cÃ¡ch triá»ƒn khai bÃªn trong cá»§a lá»›p (vÃ­ dá»¥: Ä‘á»•i tÃªn biáº¿n `tocDo` thÃ nh `vanTocHienTai`) mÃ  khÃ´ng lÃ m áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c lá»›p khÃ¡c Ä‘ang sá»­ dá»¥ng nÃ³, miá»…n lÃ  giá»¯ nguyÃªn cÃ¡c phÆ°Æ¡ng thá»©c `public` (Getter/Setter).
  * **Dá»… kiá»ƒm thá»­ (Testability):** GiÃºp viá»‡c viáº¿t Unit Test dá»… dÃ ng hÆ¡n vÃ¬ chá»‰ cáº§n kiá»ƒm tra cÃ¡c phÆ°Æ¡ng thá»©c `public`.

> **Unit test (hay Kiá»ƒm thá»­ Ä‘Æ¡n vá»‹)** lÃ  má»™t phÆ°Æ¡ng phÃ¡p kiá»ƒm thá»­ pháº§n má»m táº­p trung vÃ o viá»‡c kiá»ƒm tra cÃ¡c thÃ nh pháº§n (unit) nhá» nháº¥t, Ä‘á»™c láº­p cá»§a má»™t chÆ°Æ¡ng trÃ¬nh. Má»™t Ä‘Æ¡n vá»‹ cÃ³ thá»ƒ lÃ  má»™t hÃ m hoáº·c má»™t phÆ°Æ¡ng thá»©c cÃ³ trong class.

-----

## TÃ­nh káº¿ thá»«a

TÃ­nh káº¿ thá»«a (Inheritance) lÃ  trá»¥ cá»™t tiáº¿p theo cá»§a láº­p trÃ¬nh hÆ°á»›ng Ä‘á»‘i tÆ°á»£ng (OOP) trong Java. NÃ³ cho phÃ©p má»™t lá»›p (gá»i lÃ  **lá»›p con** - subclass) thá»«a hÆ°á»Ÿng cÃ¡c thuá»™c tÃ­nh (biáº¿n) vÃ  phÆ°Æ¡ng thá»©c (hÃ m) tá»« má»™t lá»›p khÃ¡c (gá»i lÃ  **lá»›p cha** - superclass).

Tá»« khÃ³a Ä‘á»ƒ thá»±c hiá»‡n káº¿ thá»«a trong Java lÃ  `extends`.

Má»¥c Ä‘Ã­ch chÃ­nh: **TÃ¡i sá»­ dá»¥ng mÃ£ (code reusability)** vÃ  táº¡o ra má»™t má»‘i quan há»‡ **IS-A (Relationship)**.

  * VÃ­ dá»¥: `class Dog extends Animal {}`. á» Ä‘Ã¢y, `Dog` lÃ  lá»›p con, `Animal` lÃ  lá»›p cha.

### 1\. Äáº·c Ä‘iá»ƒm chung

  * **TÃ¡i sá»­ dá»¥ng:** Lá»›p con khÃ´ng cáº§n pháº£i viáº¿t láº¡i cÃ¡c thuá»™c tÃ­nh vÃ  phÆ°Æ¡ng thá»©c Ä‘Ã£ cÃ³ á»Ÿ lá»›p cha. NÃ³ cÃ³ thá»ƒ sá»­ dá»¥ng láº¡i chÃºng.
  * **Nhá»¯ng gÃ¬ Ä‘Æ°á»£c káº¿ thá»«a:**
      * CÃ¡c thÃ nh viÃªn `public` vÃ  `protected` cá»§a lá»›p cha.
      * CÃ¡c thÃ nh viÃªn `default` (package-private) chá»‰ Ä‘Æ°á»£c káº¿ thá»«a náº¿u lá»›p con náº±m cÃ¹ng package vá»›i lá»›p cha.
  * **Nhá»¯ng gÃ¬ KHÃ”NG Ä‘Æ°á»£c káº¿ thá»«a:**
      * CÃ¡c thÃ nh viÃªn `private` cá»§a lá»›p cha. (Lá»›p con cÃ³ chÃºng, nhÆ°ng khÃ´ng thá»ƒ truy cáº­p trá»±c tiáº¿p).
      * **Constructor** cá»§a lá»›p cha (Ä‘Ã¢y lÃ  Ä‘iá»ƒm quan trá»ng).
  * **Tá»« khÃ³a `final`:**
      * Náº¿u má»™t lá»›p Ä‘Æ°á»£c khai bÃ¡o lÃ  `final`, nÃ³ khÃ´ng thá»ƒ cÃ³ lá»›p con (khÃ´ng thá»ƒ bá»‹ káº¿ thá»«a).
      * Náº¿u má»™t phÆ°Æ¡ng thá»©c Ä‘Æ°á»£c khai bÃ¡o lÃ  `final`, nÃ³ khÃ´ng thá»ƒ bá»‹ ghi Ä‘Ã¨ (override) bá»Ÿi lá»›p con.

### 2\. Constructor vÃ  Káº¿ thá»«a

ÄÃ¢y lÃ  má»™t khÃ¡i niá»‡m ráº¥t quan trá»ng vÃ  thÆ°á»ng gÃ¢y nháº§m láº«n.

  * **Quy táº¯c:** Constructor khÃ´ng Ä‘Æ°á»£c káº¿ thá»«a.
  * **CÃ¡ch hoáº¡t Ä‘á»™ng:** Khi táº¡o má»™t Ä‘á»‘i tÆ°á»£ng cá»§a lá»›p con, constructor cá»§a lá»›p con luÃ´n luÃ´n pháº£i gá»i má»™t constructor cá»§a lá»›p cha.
  * **Tá»« khÃ³a `super()`:** ÄÃ¢y lÃ  cÃ¡ch Ä‘á»ƒ gá»i constructor cá»§a lá»›p cha. Lá»‡nh `super()` pháº£i lÃ  cÃ¢u lá»‡nh Ä‘áº§u tiÃªn trong constructor cá»§a lá»›p con.
  * **Gá»i ngáº§m Ä‘á»‹nh (Implicit):** Náº¿u khÃ´ng viáº¿t `super()` trong constructor cá»§a lá»›p con, Java sáº½ tá»± Ä‘á»™ng thÃªm má»™t lá»‡nh `super();` (gá»i constructor khÃ´ng tham sá»‘ cá»§a lá»›p cha) vÃ o dÃ²ng Ä‘áº§u tiÃªn.
  * **Váº¥n Ä‘á»:** Náº¿u lá»›p cha **khÃ´ng cÃ³** constructor khÃ´ng tham sá»‘ (vÃ­ dá»¥: nÃ³ chá»‰ cÃ³ constructor yÃªu cáº§u tham sá»‘), thÃ¬ code sáº½ bá»‹ lá»—i biÃªn dá»‹ch. Báº¯t buá»™c pháº£i gá»i `super(thamSo...)` má»™t cÃ¡ch tÆ°á»ng minh.

**VÃ­ dá»¥:**

```java
class Animal {
    String name;

    // Constructor cá»§a lá»›p cha (cÃ³ tham sá»‘)
    public Animal(String name) {
        this.name = name;
        System.out.println("Constructor Animal chay...");
    }
}

class Dog extends Animal {
    String breed;

    public Dog(String name, String breed) {
        // 1. PHáº¢I gá»i super() vÃ  pháº£i lÃ  dÃ²ng Ä‘áº§u tiÃªn
        // Náº¿u khÃ´ng cÃ³ dÃ²ng nÃ y, code sáº½ lá»—i vÃ¬ Animal khÃ´ng cÃ³ constructor máº·c Ä‘á»‹nh
        super(name); // Gá»i Ä‘áº¿n 'public Animal(String name)'
        
        System.out.println("Constructor Dog chay...");
        this.breed = breed;
    }
}

// Khi cháº¡y: new Dog("Buddy", "Golden");
// Output sáº½ lÃ :
// Constructor Animal chay...
// Constructor Dog chay...
```

### 3\. Variable Hiding (Che giáº¥u biáº¿n)

ÄÃ¢y lÃ  hiá»‡n tÆ°á»£ng xáº£y ra khi lá»›p con khai bÃ¡o má»™t biáº¿n cÃ³ tÃªn trÃ¹ng vá»›i má»™t biáº¿n Ä‘Ã£ cÃ³ á»Ÿ lá»›p cha.

  * ÄÃ¢y **KHÃ”NG** pháº£i lÃ  ghi Ä‘Ã¨ (Overriding). Ghi Ä‘Ã¨ chá»‰ Ã¡p dá»¥ng cho phÆ°Æ¡ng thá»©c.
  * Khi Ä‘iá»u nÃ y xáº£y ra, biáº¿n á»Ÿ lá»›p con sáº½ "che" (hide) biáº¿n á»Ÿ lá»›p cha.
  * Viá»‡c truy cáº­p biáº¿n nÃ o sáº½ Ä‘Æ°á»£c quyáº¿t Ä‘á»‹nh táº¡i **thá»i Ä‘iá»ƒm biÃªn dá»‹ch (compile-time)**, dá»±a trÃªn **kiá»ƒu tham chiáº¿u** cá»§a Ä‘á»‘i tÆ°á»£ng, chá»© khÃ´ng pháº£i kiá»ƒu Ä‘á»‘i tÆ°á»£ng thá»±c táº¿.

**VÃ­ dá»¥:**

```java
class Parent {
    String message = "Day la Parent"; // Biáº¿n cá»§a cha
}

class Child extends Parent {
    String message = "Day la Child";  // Biáº¿n cá»§a con (che giáº¥u biáº¿n cha)

    public void printMessages() {
        System.out.println(message);       // In ra: Day la Child
        System.out.println(super.message); // In ra: Day la Parent (dÃ¹ng super Ä‘á»ƒ truy cáº­p)
    }
}

// Ráº¯c rá»‘i xáº£y ra á»Ÿ Ä‘Ã¢y (Äa hÃ¬nh)
Parent p = new Child();
System.out.println(p.message); // In ra: "Day la Parent"

// LÃ½ do: 'p' cÃ³ kiá»ƒu tham chiáº¿u lÃ  Parent, nÃªn nÃ³ truy cáº­p 'message' cá»§a Parent.
// Äiá»u nÃ y KHÃC HOÃ€N TOÃ€N vá»›i ghi Ä‘Ã¨ phÆ°Æ¡ng thá»©c (sáº½ gá»i cá»§a Child).
```

**Khuyáº¿n cÃ¡o:** NÃªn trÃ¡nh viá»‡c che giáº¥u biáº¿n vÃ¬ nÃ³ lÃ m code ráº¥t khÃ³ hiá»ƒu.

### 4\. Äa káº¿ thá»«a (Multiple Inheritance)

  * **CÃ¢u tráº£ lá»i ngáº¯n:** Java **KHÃ”NG** há»— trá»£ Ä‘a káº¿ thá»«a lá»›p.
      * Má»™t lá»›p con chá»‰ cÃ³ thá»ƒ `extends` (káº¿ thá»«a) tá»« **má»™t** lá»›p cha duy nháº¥t.
  * **Táº¡i sao?** Äá»ƒ trÃ¡nh **"Váº¥n Ä‘á» Kim cÆ°Æ¡ng" (Diamond Problem)**.
      * TÆ°á»Ÿng tÆ°á»£ng Lá»›p A cÃ³ má»™t phÆ°Æ¡ng thá»©c `m()`.
      * Lá»›p B vÃ  C cÃ¹ng káº¿ thá»«a tá»« A vÃ  cáº£ hai Ä‘á»u ghi Ä‘Ã¨ (override) phÆ°Æ¡ng thá»©c `m()`.
      * Náº¿u Java cho phÃ©p lá»›p D káº¿ thá»«a tá»« cáº£ B vÃ  C, thÃ¬ khi D gá»i `m()`, nÃ³ nÃªn cháº¡y phiÃªn báº£n cá»§a B hay cá»§a C? Ráº¥t mÆ¡ há»“.
  * **Giáº£i phÃ¡p cá»§a Java:** Sá»­ dá»¥ng **Interfaces**.
      * Má»™t lá»›p cÃ³ thá»ƒ `implements` (triá»ƒn khai) **nhiá»u** interface.
      * Interface chá»‰ Ä‘á»‹nh nghÄ©a cÃ¡c hÃ nh vi (phÆ°Æ¡ng thá»©c trá»«u tÆ°á»£ng) mÃ  lá»›p Ä‘Ã³ pháº£i cung cáº¥p.
      * `class MyClass extends SingleParent implements Interface1, Interface2, Interface3 {}`
      * Ká»ƒ tá»« Java 8, interface cÃ³ thá»ƒ cÃ³ `default methods` (phÆ°Æ¡ng thá»©c cÃ³ thÃ¢n hÃ m). Äiá»u nÃ y hÆ¡i giá»‘ng Ä‘a káº¿ thá»«a, nhÆ°ng Java cÃ³ cÃ¡c quy táº¯c rÃµ rÃ ng Ä‘á»ƒ giáº£i quyáº¿t xung Ä‘á»™t (náº¿u lá»›p cha Ä‘Ã£ implement thÃ¬ sáº½ Æ°u tiÃªn lá»›p cha).

### 5\. CÃ¡c khÃ¡i niá»‡m liÃªn quan khÃ¡c

  * **Method Overriding (Ghi Ä‘Ã¨ phÆ°Æ¡ng thá»©c):** ÄÃ¢y má»›i lÃ  sá»©c máº¡nh thá»±c sá»± cá»§a káº¿ thá»«a, lÃ  ná»n táº£ng cho TÃ­nh Ä‘a hÃ¬nh (Polymorphism).
      * Lá»›p con cung cáº¥p má»™t Ä‘á»‹nh nghÄ©a khÃ¡c cho má»™t phÆ°Æ¡ng thá»©c Ä‘Ã£ cÃ³ á»Ÿ lá»›p cha.
      * Äiá»u kiá»‡n: TÃªn phÆ°Æ¡ng thá»©c, kiá»ƒu tráº£ vá», vÃ  danh sÃ¡ch tham sá»‘ pháº£i giá»‘ng há»‡t (hoáº·c tÆ°Æ¡ng thÃ­ch).
      * Annotation `@Override` thÆ°á»ng Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ bÃ¡o cho trÃ¬nh biÃªn dá»‹ch kiá»ƒm tra xem viá»‡c ghi Ä‘Ã¨ cÃ³ há»£p lá»‡ khÃ´ng.
  * **CÃ¡c loáº¡i káº¿ thá»«a (Types of Inheritance):**
      * **ÄÆ¡n káº¿ thá»«a (Single):** A -\> B (Java há»— trá»£)
      * **Äa cáº¥p (Multilevel):** A -\> B -\> C (Java há»— trá»£)
      * **PhÃ¢n cáº¥p (Hierarchical):** A -\> B, A -\> C (Java há»— trá»£)
      * **Äa káº¿ thá»«a (Multiple):** A -\> C, B -\> C (Java **KHÃ”NG** há»— trá»£ qua `class`, nhÆ°ng há»— trá»£ qua `interface`)

-----

## Upcasting vÃ  Downcasting

Upcasting vÃ  Downcasting lÃ  hai khÃ¡i niá»‡m cá»‘t lÃµi trong tÃ­nh Ä‘a hÃ¬nh (Polymorphism) cá»§a Java, liÃªn quan Ä‘áº¿n viá»‡c Ã©p kiá»ƒu giá»¯a lá»›p cha vÃ  lá»›p con.

Trong Ä‘Ã³:

  * **Upcasting:** Ã‰p kiá»ƒu tá»« **lá»›p con** lÃªn **lá»›p cha**.
  * **Downcasting:** Ã‰p kiá»ƒu tá»« **lá»›p cha** xuá»‘ng **lá»›p con**.

**VÃ­ dá»¥:**

```java
// Lá»›p cha (Superclass)
class Animal {
    void eat() {
        System.out.println("Äá»™ng váº­t Ä‘ang Äƒn...");
    }
}

// Lá»›p con (Subclass)
class Dog extends Animal {
    @Override
    void eat() {
        System.out.println("ChÃ³ Ä‘ang gáº·m xÆ°Æ¡ng...");
    }
    
    void bark() {
        System.out.println("GÃ¢u gÃ¢u!");
    }
}
```

### 1\. Upcasting (Ã‰p kiá»ƒu ngáº§m Ä‘á»‹nh)

Upcasting lÃ  hÃ nh Ä‘á»™ng tham chiáº¿u Ä‘áº¿n má»™t Ä‘á»‘i tÆ°á»£ng cá»§a lá»›p con báº±ng má»™t tham chiáº¿u cá»§a kiá»ƒu lá»›p cha.

  * **Äáº·c Ä‘iá»ƒm:**
      * **An toÃ n:** VÃ¬ lá»›p con (`Dog`) luÃ´n *lÃ  má»™t* (is-a) phiÃªn báº£n cá»§a lá»›p cha (`Animal`). Má»™t con chÃ³ cháº¯c cháº¯n lÃ  má»™t Ä‘á»™ng váº­t.
      * **ThÆ°á»ng lÃ  ngáº§m Ä‘á»‹nh:** KhÃ´ng cáº§n pháº£i viáº¿t code Ã©p kiá»ƒu má»™t cÃ¡ch tÆ°á»ng minh vÃ¬ Java tá»± Ä‘á»™ng lÃ m Ä‘iá»u nÃ y.
      * **Giá»›i háº¡n truy cáº­p:** Khi Ä‘Ã£ upcast, chá»‰ cÃ³ thá»ƒ gá»i cÃ¡c phÆ°Æ¡ng thá»©c vÃ  truy cáº­p cÃ¡c thuá»™c tÃ­nh Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong lá»›p cha (`Animal`).
  * **VÃ­ dá»¥:**
    ```java
    // Táº¡o Ä‘á»‘i tÆ°á»£ng Dog
    Dog dog = new Dog();

    // Upcasting ngáº§m Ä‘á»‹nh (tá»± Ä‘á»™ng)
    Animal animal = dog; 

    // CÅ©ng cÃ³ thá»ƒ viáº¿t tÆ°á»ng minh, nhÆ°ng khÃ´ng cáº§n thiáº¿t:
    // Animal animal = (Animal) new Dog();

    // CÃ³ thá»ƒ gá»i phÆ°Æ¡ng thá»©c cá»§a Animal
    animal.eat(); // Sáº½ in ra: "ChÃ³ Ä‘ang gáº·m xÆ°Æ¡ng..." (do tÃ­nh Ä‘a hÃ¬nh)

    // KHÃ”NG THá»‚ Gá»ŒI phÆ°Æ¡ng thá»©c cá»§a Dog
    // animal.bark(); // Lá»—i biÃªn dá»‹ch (Compile Error)
    ```
  * **Táº¡i sao dÃ¹ng?** Upcasting lÃ  ná»n táº£ng cá»§a tÃ­nh Ä‘a hÃ¬nh. NÃ³ cho phÃ©p viáº¿t code linh hoáº¡t hÆ¡n. VÃ­ dá»¥, cÃ³ thá»ƒ táº¡o má»™t danh sÃ¡ch `List<Animal>` vÃ  thÃªm vÃ o Ä‘Ã³ cáº£ `Dog`, `Cat`, `Bird`, v.v.

### 2\. Downcasting (Ã‰p kiá»ƒu tÆ°á»ng minh)

Downcasting lÃ  hÃ nh Ä‘á»™ng Ã©p kiá»ƒu má»™t tham chiáº¿u tá»« lá»›p cha vá» láº¡i kiá»ƒu cá»§a lá»›p con.

  * **Äáº·c Ä‘iá»ƒm:**
      * **KhÃ´ng pháº£i lÃºc nÃ o cÅ©ng an toÃ n:** Má»™t `Animal` chÆ°a cháº¯c Ä‘Ã£ lÃ  má»™t `Dog` (nÃ³ cÃ³ thá»ƒ lÃ  `Cat`).
      * **Pháº£i tÆ°á»ng minh:** Báº¯t buá»™c pháº£i sá»­ dá»¥ng cÃº phÃ¡p Ã©p kiá»ƒu `(Kiá»ƒuLá»›pCon)`.
      * **Nguy cÆ¡ lá»—i:** Náº¿u cá»‘ gáº¯ng downcast má»™t Ä‘á»‘i tÆ°á»£ng khÃ´ng pháº£i lÃ  kiá»ƒu mong muá»‘n, chÆ°Æ¡ng trÃ¬nh sáº½ nÃ©m ra `ClassCastException` lÃºc cháº¡y (runtime).
      * **Má»Ÿ rá»™ng truy cáº­p:** Náº¿u thÃ nh cÃ´ng, sáº½ láº¥y láº¡i Ä‘Æ°á»£c quyá»n truy cáº­p vÃ o cÃ¡c phÆ°Æ¡ng thá»©c vÃ  thuá»™c tÃ­nh riÃªng cá»§a lá»›p con (`Dog`).
  * **VÃ­ dá»¥:**
    ```java
    // Giáº£ sá»­ chÃºng ta cÃ³ má»™t 'animal' Ä‘ang tham chiáº¿u Ä‘áº¿n má»™t 'Dog' (tá»« vÃ­ dá»¥ upcasting)
    Animal animal = new Dog();

    // Downcasting tÆ°á»ng minh
    Dog dog = (Dog) animal;

    // BÃ¢y giá» cÃ³ thá»ƒ gá»i táº¥t cáº£ cÃ¡c phÆ°Æ¡ng thá»©c
    dog.eat();  // "ChÃ³ Ä‘ang gáº·m xÆ°Æ¡ng..."
    dog.bark(); // "GÃ¢u gÃ¢u!" (ThÃ nh cÃ´ng!)
    ```

### CÃ¡ch Downcast an toÃ n: DÃ¹ng `instanceof`

VÃ¬ Downcasting cÃ³ thá»ƒ gÃ¢y lá»—i, nÃªn luÃ´n luÃ´n kiá»ƒm tra kiá»ƒu cá»§a Ä‘á»‘i tÆ°á»£ng trÆ°á»›c khi Ã©p kiá»ƒu báº±ng toÃ¡n tá»­ `instanceof`.

```java
Animal someAnimal = new Cat(); // Giáº£ sá»­ cÃ³ thÃªm lá»›p Cat

// ...

// Kiá»ƒm tra an toÃ n trÆ°á»›c khi downcast
if (someAnimal instanceof Dog) {
    Dog dog = (Dog) someAnimal;
    dog.bark();
} else {
    System.out.println("ÄÃ¢y khÃ´ng pháº£i lÃ  má»™t con chÃ³!");
}
// Káº¿t quáº£: "ÄÃ¢y khÃ´ng pháº£i lÃ  má»™t con chÃ³!"
```

### TÃ³m táº¯t nhanh

**Upcasting (An toÃ n):**

  * "ÄÃ¢y lÃ  má»™t quáº£ TÃ¡o. TÃ´i sáº½ gá»i nÃ³ lÃ  má»™t TrÃ¡i cÃ¢y."
  * `TrÃ¡iCÃ¢y t = new TÃ¡o();`
  * Äiá»u nÃ y luÃ´n Ä‘Ãºng. Chá»‰ cÃ³ thá»ƒ lÃ m nhá»¯ng viá»‡c chung chung cá»§a "TrÃ¡i cÃ¢y" (nhÆ° `an()`).

**Downcasting (Rá»§i ro):**

  * "TÃ´i cÃ³ má»™t TrÃ¡i cÃ¢y. TÃ´i kháº³ng Ä‘á»‹nh nÃ³ lÃ  má»™t quáº£ TÃ¡o."
  * `TÃ¡o a = (TÃ¡o) t;`
  * Náº¿u `t` Ä‘Ãºng lÃ  TÃ¡o, cÃ³ thá»ƒ lÃ m viá»‡c riÃªng cá»§a "TÃ¡o" (nhÆ° `lamBanhTao()`).
  * Náº¿u `t` thá»±c ra lÃ  má»™t quáº£ Cam, chÆ°Æ¡ng trÃ¬nh sáº½ "vá»¡" (`ClassCastException`).

-----

## Lá»›p `Object` trong Java

### 1\. `class Object` trong Java lÃ  gÃ¬?

  * Trong Java, `Object` lÃ  **lá»›p gá»‘c (root class)** cá»§a toÃ n bá»™ há»‡ thá»‘ng phÃ¢n cáº¥p lá»›p (class hierarchy).
  * TÃªn Ä‘áº§y Ä‘á»§ cá»§a nÃ³ lÃ : `java.lang.Object`.
  * Má»i lá»›p trong Java Ä‘á»u káº¿ thá»«a (trá»±c tiáº¿p hoáº·c giÃ¡n tiáº¿p) tá»« `Object`.

VÃ­ dá»¥:

```java
class A {}              // tá»± Ä‘á»™ng extends Object
class B extends A {}    // giÃ¡n tiáº¿p káº¿ thá»«a Object
```

  * VÃ¬ váº­y, má»i Ä‘á»‘i tÆ°á»£ng (object) trong Java â€” báº¥t ká»ƒ thuá»™c lá»›p nÃ o â€” Ä‘á»u cÃ³ nhá»¯ng phÆ°Æ¡ng thá»©c cÆ¡ báº£n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong `Object`.

### 2\. Má»™t sá»‘ phÆ°Æ¡ng thá»©c quan trá»ng cá»§a `Object`

| PhÆ°Æ¡ng thá»©c                             | Má»¥c Ä‘Ã­ch                                                                 |
| :-------------------------------------- | :----------------------------------------------------------------------- |
| **`equals(Object obj)`**                | So sÃ¡nh hai Ä‘á»‘i tÆ°á»£ng cÃ³ â€œbáº±ng nhauâ€ khÃ´ng (theo logic Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a). |
| **`hashCode()`**                        | Tráº£ vá» mÃ£ bÄƒm, thÆ°á»ng dÃ¹ng trong `HashMap`, `HashSet`,â€¦                  |
| **`toString()`**                        | Tráº£ vá» chuá»—i mÃ´ táº£ Ä‘á»‘i tÆ°á»£ng (máº·c Ä‘á»‹nh lÃ  tÃªn lá»›p + mÃ£ hash).            |
| **`getClass()`**                        | Tráº£ vá» Ä‘á»‘i tÆ°á»£ng `Class` biá»ƒu diá»…n lá»›p runtime cá»§a Ä‘á»‘i tÆ°á»£ng.            |
| **`clone()`**                           | Táº¡o báº£n sao nÃ´ng (shallow copy) cá»§a Ä‘á»‘i tÆ°á»£ng.                           |
| **`finalize()`**                        | ÄÆ°á»£c gá»i trÆ°á»›c khi GC thu há»“i Ä‘á»‘i tÆ°á»£ng (háº§u nhÆ° khÃ´ng cÃ²n Ä‘Æ°á»£c dÃ¹ng).   |
| **`wait()`, `notify()`, `notifyAll()`** | LiÃªn quan Ä‘áº¿n Ä‘á»“ng bá»™ hÃ³a (multithreading).                              |

### 3\. Sá»± khÃ¡c nhau giá»¯a â€œclass Objectâ€ vÃ  â€œobjectâ€

| So sÃ¡nh     | `class Object`                                | `object`                                                   |
| :---------- | :-------------------------------------------- | :--------------------------------------------------------- |
| **LÃ  gÃ¬?**  | Má»™t **lá»›p cá»¥ thá»ƒ** trong package `java.lang`. | Má»™t **thá»±c thá»ƒ (instance)** Ä‘Æ°á»£c táº¡o ra tá»« báº¥t ká»³ lá»›p nÃ o. |
| **Vai trÃ²** | LÃ  lá»›p cha cá»§a má»i lá»›p.                       | LÃ  thá»±c thá»ƒ cá»¥ thá»ƒ trong bá»™ nhá»›.                           |
| **VÃ­ dá»¥**   | `java.lang.Object`                            | `new Object()` hoáº·c `new String("hi")`                     |
| **Cáº¥p Ä‘á»™**  | Kiá»ƒu dá»¯ liá»‡u (type)                           | Dá»¯ liá»‡u (value / instance)                                 |

**VÃ­ dá»¥ minh há»a:**

```java
Object x = new Object();    // x lÃ  má»™t object, kiá»ƒu Object
String s = "hello";         // s cÅ©ng lÃ  má»™t object, kiá»ƒu String (káº¿ thá»«a Object)
```

â†’ á» Ä‘Ã¢y:

  * `Object` (viáº¿t hoa) lÃ  tÃªn lá»›p.
  * `x` vÃ  `s` lÃ  cÃ¡c `object` (Ä‘á»‘i tÆ°á»£ng) â€” thá»±c thá»ƒ cá»§a cÃ¡c lá»›p.

### 4\. Tá»•ng káº¿t ngáº¯n gá»n

| Thuá»™c tÃ­nh     | `class Object`                                       | `object`                                  |
| :------------- | :--------------------------------------------------- | :---------------------------------------- |
| **Äá»‹nh nghÄ©a** | Lá»›p cha cá»§a má»i lá»›p trong Java                       | Má»™t thá»ƒ hiá»‡n cá»¥ thá»ƒ cá»§a má»™t lá»›p           |
| **TÃªn Ä‘áº§y Ä‘á»§** | `java.lang.Object`                                   | KhÃ´ng cÃ³ â€” lÃ  khÃ¡i niá»‡m chung             |
| **Vai trÃ²**    | Cung cáº¥p cÃ¡c phÆ°Æ¡ng thá»©c cÆ¡ báº£n cho táº¥t cáº£ Ä‘á»‘i tÆ°á»£ng | Äáº¡i diá»‡n cho dá»¯ liá»‡u thá»±c táº¿ trong bá»™ nhá»› |
| **VÃ­ dá»¥**      | `Object obj;`                                        | `obj = new Object();`                     |

-----

## TÃ­nh Ä‘a hÃ¬nh

TÃ­nh Ä‘a hÃ¬nh (Polymorphism) lÃ  má»™t trong bá»‘n trá»¥ cá»™t cÆ¡ báº£n cá»§a Láº­p trÃ¬nh HÆ°á»›ng Ä‘á»‘i tÆ°á»£ng (OOP), bÃªn cáº¡nh ÄÃ³ng gÃ³i (Encapsulation), Káº¿ thá»«a (Inheritance), vÃ  Trá»«u tÆ°á»£ng (Abstraction).

Tá»« "Polymorphism" cÃ³ nghÄ©a lÃ  **"nhiá»u hÃ¬nh thÃ¡i"**.

Trong Java, tÃ­nh Ä‘a hÃ¬nh lÃ  kháº£ nÄƒng cá»§a má»™t **biáº¿n tham chiáº¿u** cÃ³ thá»ƒ tham chiáº¿u Ä‘áº¿n cÃ¡c **Ä‘á»‘i tÆ°á»£ng thuá»™c nhiá»u kiá»ƒu khÃ¡c nhau** (miá»…n lÃ  chÃºng cÃ³ chung má»™t lá»›p cha hoáº·c interface), vÃ  cho phÃ©p má»™t **hÃ nh Ä‘á»™ng** (phÆ°Æ¡ng thá»©c) cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n theo nhá»¯ng **cÃ¡ch khÃ¡c nhau** tÃ¹y thuá»™c vÃ o Ä‘á»‘i tÆ°á»£ng thá»±c táº¿ Ä‘ang gá»i nÃ³.

### CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a TÃ­nh Ä‘a hÃ¬nh

Äá»ƒ Ä‘áº¡t Ä‘Æ°á»£c tÃ­nh Ä‘a hÃ¬nh, Java cáº§n ba yáº¿u tá»‘ cá»‘t lÃµi:

1.  **Káº¿ thá»«a (Inheritance):** Pháº£i cÃ³ má»™t má»‘i quan há»‡ cha-con (*is-a*). VÃ­ dá»¥: `Dog` *lÃ -má»™t* `Animal`, `Cat` *lÃ -má»™t* `Animal`.
2.  **Ghi Ä‘Ã¨ phÆ°Æ¡ng thá»©c (Method Overriding):** Lá»›p con pháº£i cung cáº¥p má»™t Ä‘á»‹nh nghÄ©a riÃªng cho phÆ°Æ¡ng thá»©c mÃ  nÃ³ káº¿ thá»«a tá»« lá»›p cha.
3.  **Upcasting (Ã‰p kiá»ƒu lÃªn):** CÆ¡ cháº¿ then chá»‘t. Sá»­ dá»¥ng má»™t biáº¿n tham chiáº¿u cá»§a **kiá»ƒu lá»›p cha** Ä‘á»ƒ trá» Ä‘áº¿n má»™t Ä‘á»‘i tÆ°á»£ng cá»§a **kiá»ƒu lá»›p con**.

### VÃ­ dá»¥: Äa hÃ¬nh táº¡i Runtime (Runtime Polymorphism)

ÄÃ¢y lÃ  hÃ¬nh thá»©c Ä‘a hÃ¬nh quan trá»ng nháº¥t.

**1. Táº¡o cÃ¡c lá»›p (Káº¿ thá»«a vÃ  Ghi Ä‘Ã¨):**

```java
// Lá»›p cha
class Animal {
    public void makeSound() {
        System.out.println("Má»™t tiáº¿ng Ä‘á»™ng váº­t nÃ o Ä‘Ã³...");
    }
}

// Lá»›p con 1
class Dog extends Animal {
    // Ghi Ä‘Ã¨ (Override) phÆ°Æ¡ng thá»©c cá»§a cha
    @Override
    public void makeSound() {
        System.out.println("GÃ¢u gÃ¢u!");
    }
}

// Lá»›p con 2
class Cat extends Animal {
    // Ghi Ä‘Ã¨ (Override) phÆ°Æ¡ng thá»©c cá»§a cha
    @Override
    public void makeSound() {
        System.out.println("Meo meo!");
    }
}
```

**2. KÃ­ch hoáº¡t Ä‘a hÃ¬nh (Upcasting):**

BÃ¢y giá», trong hÃ m `main`, sá»­ dá»¥ng tham chiáº¿u `Animal` (kiá»ƒu lá»›p cha) Ä‘á»ƒ trá» Ä‘áº¿n cÃ¡c Ä‘á»‘i tÆ°á»£ng `Dog` vÃ  `Cat` (kiá»ƒu lá»›p con).

```java
public class Main {
    public static void main(String[] args) {
        // animal1 lÃ  kiá»ƒu Animal, nhÆ°ng trá» Ä‘áº¿n Ä‘á»‘i tÆ°á»£ng Dog
        Animal animal1 = new Dog(); 
        
        // animal2 lÃ  kiá»ƒu Animal, nhÆ°ng trá» Ä‘áº¿n Ä‘á»‘i tÆ°á»£ng Cat
        Animal animal2 = new Cat(); 

        // Gá»ŒI CÃ™NG Má»˜T HÃ€NH Äá»˜NG: makeSound()
        animal1.makeSound(); // JVM tháº¥y animal1 lÃ  Dog -> In ra: "GÃ¢u gÃ¢u!"
        animal2.makeSound(); // JVM tháº¥y animal2 lÃ  Cat -> In ra: "Meo meo!"
    }
}
```

**Äiá»u gÃ¬ Ä‘Ã£ xáº£y ra?**

  * **LÃºc biÃªn dá»‹ch (Compile-time):** TrÃ¬nh biÃªn dá»‹ch chá»‰ biáº¿t `animal1` vÃ  `animal2` lÃ  kiá»ƒu `Animal`, vÃ  lá»›p `Animal` *cÃ³* phÆ°Æ¡ng thá»©c `makeSound()`. VÃ¬ váº­y, code há»£p lá»‡.
  * **LÃºc cháº¡y (Runtime):** MÃ¡y áº£o Java (JVM) nhÃ¬n vÃ o Ä‘á»‘i tÆ°á»£ng *thá»±c táº¿* mÃ  `animal1` Ä‘ang trá» tá»›i (Ä‘Ã³ lÃ  `Dog`). NÃ³ sáº½ gá»i phÆ°Æ¡ng thá»©c `makeSound()` cá»§a lá»›p `Dog`. TÆ°Æ¡ng tá»± vá»›i `animal2` (Ä‘Ã³ lÃ  `Cat`).

ÄÃ¢y Ä‘Æ°á»£c gá»i lÃ  **Dynamic Method Dispatch** (Äiá»u phá»‘i phÆ°Æ¡ng thá»©c Ä‘á»™ng) hay **Runtime Polymorphism**.

### Lá»£i Ã­ch cá»§a TÃ­nh Ä‘a hÃ¬nh

Lá»£i Ã­ch lá»›n nháº¥t lÃ  táº¡o ra code **linh hoáº¡t** vÃ  **dá»… má»Ÿ rá»™ng**.

HÃ£y tÆ°á»Ÿng tÆ°á»£ng má»™t phÆ°Æ¡ng thá»©c Ä‘á»ƒ lÃ m viá»‡c vá»›i Ä‘á»™ng váº­t:

```java
// PhÆ°Æ¡ng thá»©c nÃ y cháº¥p nháº­n Báº¤T Ká»² Ä‘á»‘i tÆ°á»£ng nÃ o "lÃ -má»™t" Animal
public static void playWithAnimal(Animal animal) {
    System.out.print("Äang chÆ¡i vá»›i: ");
    animal.makeSound();
}

// BÃ¢y giá» cÃ³ thá»ƒ gá»i:
playWithAnimal(new Dog()); // In ra: Äang chÆ¡i vá»›i: GÃ¢u gÃ¢u!
playWithAnimal(new Cat()); // In ra: Äang chÆ¡i vá»›i: Meo meo!
```

Náº¿u sau nÃ y táº¡o thÃªm lá»›p `Bird extends Animal`, chá»‰ cáº§n ghi Ä‘Ã¨ `makeSound()` (Ä‘á»ƒ kÃªu "Chip chip\!"). PhÆ°Æ¡ng thá»©c `playWithAnimal()` **khÃ´ng cáº§n thay Ä‘á»•i má»™t dÃ²ng code nÃ o** mÃ  váº«n hoáº¡t Ä‘á»™ng Ä‘Ãºng vá»›i `Bird`.

### CÃ¡c loáº¡i Äa hÃ¬nh trong Java

Java cÃ³ hai loáº¡i Ä‘a hÃ¬nh:

1.  **Äa hÃ¬nh lÃºc cháº¡y (Runtime Polymorphism) - Äa hÃ¬nh Ä‘á»™ng**

      * **CÃ²n gá»i lÃ :** Dynamic Method Dispatch.
      * **CÃ¡ch Ä‘áº¡t Ä‘Æ°á»£c:** Ghi Ä‘Ã¨ phÆ°Æ¡ng thá»©c (Method **Overriding**).
      * **Giáº£i thÃ­ch:** ÄÃ¢y chÃ­nh lÃ  vÃ­ dá»¥ `Animal` á»Ÿ trÃªn. PhÆ°Æ¡ng thá»©c nÃ o Ä‘Æ°á»£c gá»i sáº½ Ä‘Æ°á»£c quyáº¿t Ä‘á»‹nh lÃºc chÆ°Æ¡ng trÃ¬nh cháº¡y.

2.  **Äa hÃ¬nh lÃºc biÃªn dá»‹ch (Compile-time Polymorphism) - Äa hÃ¬nh tÄ©nh**

      * **CÃ²n gá»i lÃ :** Static Binding.
      * **CÃ¡ch Ä‘áº¡t Ä‘Æ°á»£c:** Náº¡p chá»“ng phÆ°Æ¡ng thá»©c (Method **Overloading**).
      * **Giáº£i thÃ­ch:** ÄÃ¢y lÃ  viá»‡c cÃ³ nhiá»u phÆ°Æ¡ng thá»©c *cÃ¹ng tÃªn* nhÆ°ng *khÃ¡c tham sá»‘* (khÃ¡c sá»‘ lÆ°á»£ng hoáº·c kiá»ƒu dá»¯ liá»‡u) trong cÃ¹ng má»™t lá»›p.
      * **VÃ­ dá»¥:**
        ```java
        class Calculator {
            int add(int a, int b) {
                return a + b;
            }
            
            double add(double a, double b) {
                return a + b;
            }
        }

        // TrÃ¬nh biÃªn dá»‹ch biáº¿t ngay pháº£i gá»i phÆ°Æ¡ng thá»©c nÃ o
        Calculator calc = new Calculator();
        calc.add(5, 10);     // Gá»i phiÃªn báº£n int
        calc.add(5.5, 10.1); // Gá»i phiÃªn báº£n double
        ```

-----

CÃ³ hai kiá»ƒu Ä‘a hÃ¬nh (polymorphism) trong Java, phÃ¢n biá»‡t dá»±a trÃªn **thá»i Ä‘iá»ƒm** mÃ  Java quyáº¿t Ä‘á»‹nh chÃ­nh xÃ¡c phÆ°Æ¡ng thá»©c nÃ o sáº½ Ä‘Æ°á»£c gá»i.

  * **Äa hÃ¬nh Compile-time (LÃºc biÃªn dá»‹ch):** Quyáº¿t Ä‘á»‹nh Ä‘Æ°á»£c Ä‘Æ°a ra khi biÃªn dá»‹ch code.
  * **Äa hÃ¬nh Runtime (LÃºc cháº¡y):** Quyáº¿t Ä‘á»‹nh Ä‘Æ°á»£c Ä‘Æ°a ra khi chÆ°Æ¡ng trÃ¬nh Ä‘ang cháº¡y.

### 1\. Compile-time Polymorphism (Äa hÃ¬nh tÄ©nh)

CÃ²n Ä‘Æ°á»£c gá»i lÃ  **Static Binding** (LiÃªn káº¿t tÄ©nh).

CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a nÃ³ trong Java lÃ  **Method Overloading** (Náº¡p chá»“ng phÆ°Æ¡ng thá»©c).

**Náº¡p chá»“ng phÆ°Æ¡ng thá»©c (Method Overloading):**
ÄÃ¢y lÃ  viá»‡c Ä‘á»‹nh nghÄ©a nhiá»u phÆ°Æ¡ng thá»©c **cÃ³ cÃ¹ng tÃªn** nhÆ°ng **khÃ¡c nhau vá» tham sá»‘** (khÃ¡c vá» sá»‘ lÆ°á»£ng, hoáº·c kiá»ƒu dá»¯ liá»‡u cá»§a tham sá»‘) trong *cÃ¹ng má»™t lá»›p*.

Khi gá»i phÆ°Æ¡ng thá»©c, trÃ¬nh biÃªn dá»‹ch (compiler) sáº½ nhÃ¬n vÃ o sá»‘ lÆ°á»£ng vÃ  kiá»ƒu tham sá»‘ Ä‘Æ°á»£c truyá»n vÃ o Ä‘á»ƒ quyáº¿t Ä‘á»‹nh chÃ­nh xÃ¡c phÆ°Æ¡ng thá»©c nÃ o sáº½ Ä‘Æ°á»£c gá»i. Quyáº¿t Ä‘á»‹nh nÃ y Ä‘Æ°á»£c "khÃ³a" láº¡i ngay táº¡i thá»i Ä‘iá»ƒm biÃªn dá»‹ch.

**VÃ­ dá»¥:**

```java
class Calculator {
    
    // PhÆ°Æ¡ng thá»©c 1
    int add(int a, int b) {
        return a + b;
    }
    
    // PhÆ°Æ¡ng thá»©c 2 (CÃ¹ng tÃªn 'add' nhÆ°ng khÃ¡c tham sá»‘)
    double add(double a, double b) {
        return a + b;
    }
    
    // PhÆ°Æ¡ng thá»©c 3 (CÃ¹ng tÃªn 'add' nhÆ°ng khÃ¡c sá»‘ lÆ°á»£ng tham sá»‘)
    int add(int a, int b, int c) {
        return a + b + c;
    }
}

public class Main {
    public static void main(String[] args) {
        Calculator calc = new Calculator();
        
        // Quyáº¿t Ä‘á»‹nh táº¡i Compile-time:
        calc.add(5, 10);     // Compiler biáº¿t pháº£i gá»i phÆ°Æ¡ng thá»©c 1
        calc.add(5.5, 10.2); // Compiler biáº¿t pháº£i gá»i phÆ°Æ¡ng thá»©c 2
        calc.add(1, 2, 3);   // Compiler biáº¿t pháº£i gá»i phÆ°Æ¡ng thá»©c 3
    }
}
```

-----

### 2\. Runtime Polymorphism (Äa hÃ¬nh Ä‘á»™ng)

CÃ²n Ä‘Æ°á»£c gá»i lÃ  **Dynamic Method Dispatch** hoáº·c **Dynamic Binding** (LiÃªn káº¿t Ä‘á»™ng). ÄÃ¢y lÃ  khÃ¡i niá»‡m Ä‘a hÃ¬nh quan trá»ng nháº¥t trong OOP.

CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a nÃ³ lÃ  **Method Overriding** (Ghi Ä‘Ã¨ phÆ°Æ¡ng thá»©c), káº¿t há»£p vá»›i **Upcasting**.

**Ghi Ä‘Ã¨ phÆ°Æ¡ng thá»©c (Method Overriding):**
ÄÃ¢y lÃ  viá»‡c má»™t lá»›p con cung cáº¥p má»™t Ä‘á»‹nh nghÄ©a (implementation) cá»¥ thá»ƒ cho má»™t phÆ°Æ¡ng thá»©c Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a á»Ÿ lá»›p cha. PhÆ°Æ¡ng thá»©c á»Ÿ lá»›p con pháº£i cÃ³ **cÃ¹ng tÃªn, cÃ¹ng kiá»ƒu tráº£ vá», vÃ  cÃ¹ng tham sá»‘** vá»›i phÆ°Æ¡ng thá»©c á»Ÿ lá»›p cha.

**Hoáº¡t Ä‘á»™ng:**

1.  DÃ¹ng má»™t biáº¿n tham chiáº¿u cá»§a **kiá»ƒu lá»›p cha** (vÃ­ dá»¥: `Animal`).
2.  Cho nÃ³ trá» Ä‘áº¿n má»™t Ä‘á»‘i tÆ°á»£ng cá»§a **kiá»ƒu lá»›p con** (vÃ­ dá»¥: `new Dog()`). ÄÃ¢y lÃ  **Upcasting**.
3.  Khi gá»i phÆ°Æ¡ng thá»©c qua biáº¿n tham chiáº¿u Ä‘Ã³ (vÃ­ dá»¥: `animal.makeSound()`), JVM (MÃ¡y áº£o Java) sáº½ khÃ´ng gá»i phÆ°Æ¡ng thá»©c cá»§a `Animal`. Thay vÃ o Ä‘Ã³, nÃ³ sáº½ Ä‘á»£i Ä‘áº¿n **lÃºc cháº¡y** Ä‘á»ƒ xem Ä‘á»‘i tÆ°á»£ng *thá»±c sá»±* lÃ  gÃ¬ (lÃ  `Dog` hay `Cat`?) vÃ  gá»i phÆ°Æ¡ng thá»©c Ä‘Ã£ Ä‘Æ°á»£c ghi Ä‘Ã¨ cá»§a Ä‘á»‘i tÆ°á»£ng Ä‘Ã³.

**VÃ­ dá»¥:**

```java
class Animal { // Lá»›p cha
    void makeSound() {
        System.out.println("Má»™t tiáº¿ng Ä‘á»™ng váº­t...");
    }
}

class Dog extends Animal { // Lá»›p con
    @Override // Ghi Ä‘Ã¨
    void makeSound() {
        System.out.println("GÃ¢u gÃ¢u!");
    }
}

class Cat extends Animal { // Lá»›p con
    @Override // Ghi Ä‘Ã¨
    void makeSound() {
        System.out.println("Meo meo!");
    }
}

public class Main {
    public static void main(String[] args) {
        // Upcasting: Biáº¿n kiá»ƒu Animal, Ä‘á»‘i tÆ°á»£ng lÃ  Dog
        Animal myAnimal = new Dog(); 
        
        // Quyáº¿t Ä‘á»‹nh táº¡i Runtime:
        // JVM tháº¥y 'myAnimal' Ä‘ang giá»¯ má»™t Ä‘á»‘i tÆ°á»£ng Dog,
        // nÃªn nÃ³ gá»i makeSound() cá»§a Dog.
        myAnimal.makeSound(); // In ra: "GÃ¢u gÃ¢u!"
        
        // BÃ¢y giá» 'myAnimal' trá» Ä‘áº¿n Ä‘á»‘i tÆ°á»£ng Cat
        myAnimal = new Cat();
        
        // JVM tháº¥y 'myAnimal' Ä‘ang giá»¯ má»™t Ä‘á»‘i tÆ°á»£ng Cat,
        // nÃªn nÃ³ gá»i makeSound() cá»§a Cat.
        myAnimal.makeSound(); // In ra: "Meo meo!"
    }
}
```

-----

### So sÃ¡nh nhanh

| Äáº·c Ä‘iá»ƒm            | Äa hÃ¬nh Compile-time (TÄ©nh)                     | Äa hÃ¬nh Runtime (Äá»™ng)                     |
| :------------------ | :---------------------------------------------- | :----------------------------------------- |
| **TÃªn khÃ¡c**        | Static Binding, Early Binding                   | Dynamic Binding, Late Binding              |
| **CÃ¡ch Ä‘áº¡t Ä‘Æ°á»£c**   | **Method Overloading** (Náº¡p chá»“ng)              | **Method Overriding** (Ghi Ä‘Ã¨)             |
| **Thá»i Ä‘iá»ƒm**       | Quyáº¿t Ä‘á»‹nh lÃºc **biÃªn dá»‹ch** (Compile-time)     | Quyáº¿t Ä‘á»‹nh lÃºc **cháº¡y** (Runtime)          |
| **CÆ¡ cháº¿**          | Dá»±a trÃªn **chá»¯ kÃ½ phÆ°Æ¡ng thá»©c** (tÃªn + tham sá»‘) | Dá»±a trÃªn **Ä‘á»‘i tÆ°á»£ng thá»±c táº¿** lÃºc runtime |
| **YÃªu cáº§u káº¿ thá»«a** | KhÃ´ng cáº§n thiáº¿t                                 | **Báº¯t buá»™c** pháº£i cÃ³ káº¿ thá»«a               |
| **VÃ­ dá»¥**           | `calc.add(5, 10)` vs `calc.add(5.5, 10.2)`      | `Animal a = new Dog(); a.makeSound();`     |
| **Hiá»‡u suáº¥t**       | Nhanh hÆ¡n (vÃ¬ Ä‘Ã£ quyáº¿t Ä‘á»‹nh tá»« trÆ°á»›c)           | Cháº­m hÆ¡n má»™t chÃºt (pháº£i tra cá»©u lÃºc cháº¡y)  |

-----

## Overload (Náº¡p chá»“ng) vÃ  Override (Ghi Ä‘Ã¨)

Overload (Náº¡p chá»“ng) vÃ  Override (Ghi Ä‘Ã¨) lÃ  hai khÃ¡i niá»‡m cÆ¡ báº£n cá»§a Java, Ä‘á»u liÃªn quan Ä‘áº¿n phÆ°Æ¡ng thá»©c nhÆ°ng hoÃ n toÃ n khÃ¡c nhau vá» má»¥c Ä‘Ã­ch vÃ  cÃ¡ch thá»©c hoáº¡t Ä‘á»™ng.

ÄÃ¢y lÃ  báº£ng so sÃ¡nh trá»±c tiáº¿p Ä‘á»ƒ phÃ¢n biá»‡t chÃºng:

| Äáº·c Ä‘iá»ƒm                 | ğŸ“– Overloaded (Náº¡p chá»“ng)                                                                                                 | ğŸ¯ Overridden (Ghi Ä‘Ã¨)                                                                                                   |
| :----------------------- | :----------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------- |
| **Má»¥c Ä‘Ã­ch**             | Cho phÃ©p má»™t lá»›p cÃ³ nhiá»u phÆ°Æ¡ng thá»©c **cÃ¹ng tÃªn** nhÆ°ng thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng khÃ¡c nhau dá»±a trÃªn **tham sá»‘ Ä‘áº§u vÃ o**. | Cho phÃ©p lá»›p con cung cáº¥p má»™t **cÃ¡ch triá»ƒn khai (implementation) cá»¥ thá»ƒ** cho phÆ°Æ¡ng thá»©c Ä‘Ã£ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a á»Ÿ lá»›p cha. |
| **Vá»‹ trÃ­**               | Xáº£y ra **bÃªn trong má»™t lá»›p** (within a single class).                                                                    | Xáº£y ra giá»¯a **hai lá»›p** (lá»›p cha vÃ  lá»›p con).                                                                           |
| **Tham sá»‘**              | **Báº®T BUá»˜C pháº£i khÃ¡c nhau** (vá» sá»‘ lÆ°á»£ng, kiá»ƒu dá»¯ liá»‡u, hoáº·c thá»© tá»± cá»§a tham sá»‘).                                        | **Báº®T BUá»˜C pháº£i giá»‘ng há»‡t nhau** (cÃ¹ng tÃªn, cÃ¹ng sá»‘ lÆ°á»£ng, cÃ¹ng kiá»ƒu tham sá»‘).                                          |
| **Kiá»ƒu tráº£ vá»**          | CÃ³ thá»ƒ giá»‘ng hoáº·c khÃ¡c nhau.                                                                                             | Pháº£i giá»‘ng há»‡t, hoáº·c lÃ  má»™t *kiá»ƒu con* (covariant return type).                                                         |
| **Loáº¡i Äa hÃ¬nh**         | Äa hÃ¬nh lÃºc **Compile-time** (Äa hÃ¬nh tÄ©nh).                                                                             | Äa hÃ¬nh lÃºc **Runtime** (Äa hÃ¬nh Ä‘á»™ng).                                                                                 |
| **LiÃªn káº¿t**             | **Static Binding** (LiÃªn káº¿t tÄ©nh).                                                                                      | **Dynamic Binding** (LiÃªn káº¿t Ä‘á»™ng).                                                                                    |
| **Tá»« khÃ³a `@Override`**  | KhÃ´ng dÃ¹ng.                                                                                                              | **NÃªn dÃ¹ng**. NÃ³ giÃºp trÃ¬nh biÃªn dá»‹ch kiá»ƒm tra xem viá»‡c ghi Ä‘Ã¨ cÃ³ Ä‘Ãºng khÃ´ng.                                           |
| **PhÆ°Æ¡ng thá»©c `static`** | **CÃ“ THá»‚** náº¡p chá»“ng (overload) phÆ°Æ¡ng thá»©c `static`.                                                                    | **KHÃ”NG THá»‚** ghi Ä‘Ã¨ (override) phÆ°Æ¡ng thá»©c `static`. (ÄÃ¢y gá»i lÃ  "che giáº¥u" - method hiding).                          |

-----

###  VÃ­ dá»¥ vá» Method Overloading (Náº¡p chá»“ng)

```java
class DisplayBox {
    
    // 1. PhÆ°Æ¡ng thá»©c 'display' vá»›i tham sá»‘ String
    public void display(String text) {
        System.out.println("Hiá»ƒn thá»‹ text: " + text);
    }
    
    // 2. Náº¡p chá»“ng 'display' vá»›i tham sá»‘ int
    public void display(int number) {
        System.out.println("Hiá»ƒn thá»‹ sá»‘: " + number);
    }
    
    // 3. Náº¡p chá»“ng 'display' vá»›i hai tham sá»‘
    public void display(String text, int number) {
        System.out.println(text + " " + number);
    }
}

// CÃ¡ch gá»i:
DisplayBox box = new DisplayBox();
box.display("Hello"); // Gá»i phÆ°Æ¡ng thá»©c 1
box.display(100);     // Gá»i phÆ°Æ¡ng thá»©c 2
```

TrÃ¬nh biÃªn dá»‹ch biáº¿t ngay pháº£i gá»i phÆ°Æ¡ng thá»©c nÃ o dá»±a vÃ o tham sá»‘ Ä‘Æ°á»£c truyá»n vÃ o.

-----

### VÃ­ dá»¥ vá» Method Overriding (Ghi Ä‘Ã¨)

```java
// Lá»›p cha
class Animal {
    public void makeSound() {
        System.out.println("Äá»™ng váº­t phÃ¡t ra tiáº¿ng kÃªu");
    }
}

// Lá»›p con
class Dog extends Animal {
    
    // Ghi Ä‘Ã¨ phÆ°Æ¡ng thá»©c CÃ™NG TÃŠN, CÃ™NG THAM Sá»
    @Override
    public void makeSound() {
        System.out.println("GÃ¢u gÃ¢u!");
    }
}

// CÃ¡ch gá»i (sá»­ dá»¥ng tÃ­nh Ä‘a hÃ¬nh):
Animal myPet = new Dog(); // Upcasting
myPet.makeSound(); // JVM lÃºc runtime sáº½ gá»i phÆ°Æ¡ng thá»©c cá»§a Dog
                   // In ra: "GÃ¢u gÃ¢u!"
```

JVM chá»‰ quyáº¿t Ä‘á»‹nh gá»i phÆ°Æ¡ng thá»©c `makeSound` cá»§a `Dog` vÃ o lÃºc chÆ°Æ¡ng trÃ¬nh cháº¡y.

-----

  * **Overloading** = Nhiá»u phÆ°Æ¡ng thá»©c, cÃ¹ng tÃªn, **khÃ¡c tham sá»‘**, **cÃ¹ng má»™t lá»›p**.
  * **Overriding** = Má»™t phÆ°Æ¡ng thá»©c, cÃ¹ng tÃªn, **cÃ¹ng tham sá»‘**, á»Ÿ **lá»›p cha vÃ  lá»›p con**.